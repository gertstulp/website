<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Gert Stulp</title>
<link>https://www.gertstulp.com/all-content.html</link>
<atom:link href="https://www.gertstulp.com/all-content.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.3.433</generator>
<lastBuildDate>Sun, 03 Dec 2023 23:00:00 GMT</lastBuildDate>
<item>
  <title>Poster prize for Lisa</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-12-04-lisa-poster-prize.html</link>
  <description><![CDATA[ 



<p>At the Dutch Day of Demography, Lisa (Elizaveta Sivak) won the best poster prize! Her poster described results on the pilot of the fertility data challenge <a href="https://preferdatachallenge.nl">PreFer</a>. She won it also because of the “interactive” design.</p>
<p><img src="https://www.gertstulp.com/images/2023_Sivak_DvD.jpg" class="img-fluid"></p>



 ]]></description>
  <category>Fertility</category>
  <category>Prediction</category>
  <category>Prize</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-12-04-lisa-poster-prize.html</guid>
  <pubDate>Sun, 03 Dec 2023 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/2023_Sivak_DvD.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Kinderloosheid in Nederland</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-09-13-childlessness.html</link>
  <description><![CDATA[ 



<p>Voor een podcast werd ik geïnterviewd door <a href="http://evelinevanrijswijk.nl/">Eveline van Rijswijk</a> over kinderloosheid. Dat was een erg plezier gesprek. Hieronder wat onderwerpen waarover we spraken.</p>
<section id="hoeveel-mensen-krijgen-geen-kinderen" class="level1">
<h1>Hoeveel mensen krijgen (geen) kinderen?</h1>
<p>Kinderloosheid is de afgelopen decennia flink gestegen. In Nederland was het zo dat van vrouwen alle vrouwen die geboren zijn tussen 1945 en 1949 ongeveer 13% geen kinderen hadden, terwijl dit voor vrouwen uit 1960-1965 gestegen was tot 19%. Voor mannen zien we een zelfde stijging van ongeveer 17% naar 26%.</p>
<section id="nederland" class="level2">
<h2 class="anchored" data-anchor-id="nederland">Nederland</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Nederland is hier zeker niet alleen in, en in vrijwel alle Westerse landen zien we dit patroon. Het is niet alleen de kinderloosheid die zo drastisch veranderd is, ook het kindertal is flink gedaald en de gemiddelde leeftijd waarop mensen vader of moeder worden hard gestegen.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Qua kinderloosheid deden Nederlands vrouwen het in 1975 “gemiddeld”.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="voorspellers-van-kinderloosheid" class="level2">
<h2 class="anchored" data-anchor-id="voorspellers-van-kinderloosheid">Voorspellers van kinderloosheid</h2>
<p>Twee factoren die sterk samenhangen met kinderloosheid zijn geslacht en opleidingsniveau, en dit geldt voor vele landen. Mannen hebben een grotere kans om kinderloos te blijven dan vrouwen. Het opleidingsniveau heeft doorgaans een verschillend effect voor mannen en vrouwen: waar hoog opgeleide vrouwen vaak de grootste kans hebben om geen kinderen te krijgen, zijn het bij mannen juist de laag opgeleiden.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="waarom-neemt-kinderloosheid-toe" class="level2">
<h2 class="anchored" data-anchor-id="waarom-neemt-kinderloosheid-toe">Waarom neemt kinderloosheid toe?</h2>
<p>De belangrijkste redenen voor de toename in kinderloosheid is dat koppels het proberen te krijgen van kinderen enorm hebben uitgesteld. Veel van die uitstel leidt tot afstel. Dat is zo, omdat de vruchtbaarheid (de biologische capaciteit om kinderen te krijgen) afneemt voor koppels. Met name de vruchtbaarheid van ene vrouw neemt sterk af boven de leeftijd van 35. De kinderwens wordt vaak uitgesteld tot een periode waarin het minder makkelijk is om kinderen te krijgen. Medisch geassisteerde reproductie biedt hier nauwelijks een oplossing voor.</p>
<p>Maar waarom stellen individuen de kinderwens dan uit? In grote mate heeft dit te maken met de positie van de vrouw in de maatschappij. Sinds ongeveer halverwege de vorige eeuw, is het aantal vrouwen dat een (hogere) opleiding volgt en dat een baan heeft enorm gestegen. Deze ontwikkelingen resulteerden in een grotere autonomie voor vrouwen en een betere socioeconomische positie. Het idee dat de vrouw meer was dan een moeder of huisvrouw kwam gelukkig sterk naar voren.</p>
<p>Omdat het volgen van (hoger) onderwijs en het veroveren van een goede arbeidspositie niet goed samengaat met de intensieve opvoeding van kinderen, zullen veel koppels de kinderwens uitstellen tot de opleiding is afgerond en een goede baan is gevonden. Dat het hebben van een baan en de opvoeding van kinderen niet fijn te combineren zijn, wordt versterkt door het feit dat dat als er kinderen geboren worden, de vrouw veelal werd (wordt?) gezien als de primaire verzorger van het kind én ook nog degene is die het leeuwendeel van het huishouden doet. Vrouwen zijn massaal toegetreden tot de arbeidsmarkt, maar hier is niet een vermindering van het huishoudelijke werk tegen over komen te staan. Voor veel vrouwen zal dus gelden dat ze een baan moeten combineren met het runnen van het huishouden én de verzorging van het kind. Dit is allemaal iets gechargeerd, en gelukkig zijn de tijden aan het veranderen, maar het is dus goed te begrijpen dat vooral vrouwen de kinderwens willen uitstellen omdat zij minder tijd krijgen om in hun carriére (of zichzelf) te investeren als een kind geboren wordt.</p>
<p>De door de gestegen welvaart kwam er ook een grotere nadruk op zelf-ontplooing. De “post-materialistische” waarden kwamen bovendrijven: mensen willen ‘leuke dingen’ doen, en zichzelf ontwikkelen eer ze aan kinderen beginnen. Tegelijkertijd zijn de kosten voor het opvoeven van kinderen toegenomen, zowel in termen van geld als tijd, wat jongeren meer dan eerdere generaties deed uitstellen.</p>
<p>En zo geschiedde het uitstellen van de kinderwens. Voor veel koppels leidt deze uitstel tot ongewenste kinderloosheid.</p>
<p>Naast het uitstellen van de kinderwens door koppels is de stijgende kinderloosheid óók te verklaren door het toenemende aantal mensen dat geen (geschikte) partner vindt.</p>
<p>De toename van kinderloosheid is echter ook, maar in mindere mate, gestegen door een toename van mensen die geen kinderen willen.</p>
</section>
</section>
<section id="neemt-de-vrijwillige-kinderloosheid-toe" class="level1">
<h1>Neemt de vrijwillige kinderloosheid toe?</h1>
<p>Een belangrijke vraag is of de stijging in kinderloosheid vooral kan worden toegeschreven aan vrijwillige of onvrijwillige kinderloosheid. Dit is belangrijk omdat bij het laatste een grotere groep individuen geraakt zouden worden in hun welzijn, en bij de eerste niet.</p>
<!-- - Scholars who stress the impact-of ideological changes on fertility argue that, increasingly, childbearing behavior is motivated by new ideas that place the individual and individual choice at the center of the unfolding life course (Lesthae- V ghe and van de Kaa 1986; van de Kaa 1987). Parenthood remains an important component of a meaningful life but in a context in which the decision to parent is optional, other life choices can also contribute to individual self-actualization (Giddens 1991). Simultaneously, social acceptance of intended childlessness is on the rise (Thorton and Young-DeMarco 2001; Chancey and Dumais 2009). In addition, costs of childrearing—in terms of financial resources as well as time investments—are increasing (Gauthier et al. 2004; Kornrich and Furstenberg 2013) which might lead young adults to perceive parenthood as more costly than the generation of their parents. Taken together, these cultural and economic changes might challenge the centrality of parenthood for individual life satisfaction. -->
<!-- Skirbekk: -->
<!-- The increase in childlessness has been associated with many different factors, including improving education and economic opportunities (partiulrly for women), the delay and celine in marriage, increases in the use of reliable contraception, higher costso of housing, the stubborn incompatbility of many professional careers with childbearing, many alternatives for time use, and the increased social acceptance of choosing not to have children.  -->
<section id="the-netherlands" class="level2">
<h2 class="anchored" data-anchor-id="the-netherlands">the Netherlands</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="verenigde-staten" class="level2">
<h2 class="anchored" data-anchor-id="verenigde-staten">Verenigde staten</h2>
<p>Het blijkt dat zowel vrijwillige als onvrijwillige kinderloosheid is toegenomen. Eerst maar eens twee voorbeelden uit de Verenigde Staten. Rybinska (2020) onderzocht de intentie van mannen en vrouwen om kinderloos te blijven.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Een ander voorbeeld komt van Chancey (2006).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hoe-meet-je-vrijwillige-kinderloosheid-eigenlijk" class="level2">
<h2 class="anchored" data-anchor-id="hoe-meet-je-vrijwillige-kinderloosheid-eigenlijk">Hoe meet je vrijwillige kinderloosheid eigenlijk?</h2>
<!-- DIFFICULTY OF MEASURING CHILDLESSNESS -->
<!-- - Updating this desired age of becoming a parent is especially common among men and women who are approaching their own desired age to have a first child, which are typically older men and women. This is methodologically important, because it shows that asking individuals about their desired age to have a first child at higher ages probably does not give insight into the initially desired age to have children, but likely represents an updated age.  -->
<!-- - pagina 115, Skirbekk. Mooie sectie.  -->
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<!-- Heaton et al WHO CHANGES TO CHILDLESSNESS -->
<!-- udy. The largest group -->
<!-- wants children but still postpone childbearing. The -->
<!-- next largest group carries out their intention to -->
<!-- have children. The third largest group switches from -->
<!-- wanting children to not wanting children. Some are -->
<!-- consistently childless in both surveys. Finally, a rel- -->
<!-- atively small group did not intend to have a child in -->
<!-- the first survey but subsequently had a c -->
<!-- - data from 1988 and 1994, 19 - 39 in wave 1 -->
<!-- - TABEL MAKEN -->
<p>Op basis van de Graaf 2005. Vrouwen van 36–45 jaar die verwachten kinderloos te blijven, 2003:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="wie-zijn-de-vrijwillige-kinderloze-mensen" class="level2">
<h2 class="anchored" data-anchor-id="wie-zijn-de-vrijwillige-kinderloze-mensen">Wie zijn de vrijwillige kinderloze mensen?</h2>
<p>Het is niet makkelijk te karakteriseren wat voor type personen vrijwillig kinderloos zijn en wat voor type mensen graag een kind willen. Een evident verschil is dat vrijwillige kinderloosheid minder vaak voor komt bij religieuze mensen dan bij niet-religieuze mensen. Ook zijn hoog-opgeleide vrouwen en vrouwen met een hoger inkomen vaker bewust kindloos. Een belangrijke reden is vermoedelijk dat vrouwen met een hogere socioeconomische positie hun kinderwens uitstellen, maar niet bewust kinderloos willen blijven, maar dat het leven zich zo voltrekt dat er geen kind komt, maar dat daar ook geen sterke wens toe was. Kinderloos bij kans, maar niet ongewenst. Het lijkt zo te zijn dat de voorspellers van vrijwillige kinderloosheid tegenwoordig minder sterke effecten hebben dan decennia geleden, wat geïnterpreteerd kan worden als de diffusie van het idee kinderloosheid. [Chancey, 2006]</p>
<!-- RENSKE -->
<!-- We find that higher educational attainment and LFP are positively associated with childlessness. We do not find, however, that higher educated and working women more often desire or expect to remain childless. In contrast, we find that among women who ultimately remain childless, those women who work full- time and have higher status occupations have higher expectations to have children throughout their life course. These results suggest that education and occupation produce constraints, resulting in the postponement of childbearing which hinders women in realizing their desires and expectations. S  -->
<!-- - No differences across educational groups at ages 18-22 -->

<!-- - This association, however, did not seem to come about through inherent differences between these women in their desire to remain childless stated early in life (endogenous preferences), nor was it attributable to changing desires regarding childlessness transferred during education or changing expectations during their working lives (socialization). Rather, we observed that women with higher education and higher occupational characteristics more often erroneously believed that they would still have children  -->
</section>
<section id="verspreidt-vrijwillige-kinderloosheid-zich-in-de-populatie" class="level2">
<h2 class="anchored" data-anchor-id="verspreidt-vrijwillige-kinderloosheid-zich-in-de-populatie">Verspreidt vrijwillige kinderloosheid zich in de populatie?</h2>
<p>Sociologen zijn vaak geïnteresseerd in hoe en of nieuwe ideeën zich verspreiden in een populatie.</p>
<!-- DIFFUSION -->
<!-- Van Rybinska: - In addition, distinct increases in ITRC are observed among young women (aged 18–24) and men (aged 18–24 and 25–29). As these young Americans are in the middle of exploring different life choices and of drawing up plans for adulthood, they might be especially attuned to current social norms regarding the importance of parenthood and acceptance of childlessness, as well as to the perceived costs of childrearing. Indeed, young Americans have recently verbalized concerns about the financial burdens of parenthood (Brinton et al. 2018).  -->
<!-- - These associations suggest that tensions between professional and family respon- sibilities might continue to play an important role in shaping permanent childless- ness trends among women but not among men in the United States. Over the past decades, tensions between private and public social roles for women have increased due to women’s entry into the labor force (Gerson 1985; Hochschild 1989) and research indicates that the created work-family life conflict has disproportionately affected women with higher educational attainment (Blain-Loy 2005).  -->
<!-- Chancey 2006 - master thesis -->
<!-- - I find that voluntary childlessness stayed relatively constant through the seventies and eighties, but showed a large increase from the mid-nineties to 2002. I show that voluntary childlessness increased in recent years because baby-boomers postponed childbearing until they no longer desired it, and younger women born in the seventies are now deciding to remain childless earlier. I discuss the role of these younger women in establishing a ceiling for voluntary childlessness. I also provide initial results supporting the theory that voluntary childlessness is diffusing among women of lower education and higher religiosity. -->
<!-- Women who state intentions to remain childless early are relatively rare—most arrive at voluntary childlessness through postponement of reproduction (Veevers 1973). Using longitudinal data, Heaton, Jacobson, and Holland (1999) also showed evidence of postponement, finding that more couples who want children change their intentions than voluntarily childless couples.  -->
<!-- - Among birth control users, the voluntarily childless put themselves at a greater pregnancy risk than mothers with completed fertility in nearly every year, though these differences are only significant for users of less effective methods in the seventies and nineties. This may be indicative of greater ambivalence among the voluntarily childless than among mothers who want no more children. Also striking is the similarity of the voluntarily childless to women who want more children among users of no method in the 1970s and 1980s. As Mosher and Bachrach (1982) suggest, voluntarily childless nonusers of contraception may soon become mothers despite their wishes. Likewise, due to the effects of postponement, some of the women who currently want children but are using birth control will drift into the voluntarily childless category (Heaton et al. 1999). -->
<!-- - Interestingly, the correlates of voluntary childlessness that have repeatedly been confirmed by the literature appear to be fading somewhat in importance, lending support to the idea that voluntary childlessness is diffusing. In both 1982 and 2002, white college-educated nonreligious women had the highest percentage of voluntary childlessness, but the gap between this demographic category and others is narrowing in 2002. -->
<!-- The voluntarily childless could possibly gain enough political clout with their numbers to affect “family- friendly” policies that are increasingly alienating to them (Burkett 2000)  -->
</section>
</section>
<section id="waarom-willen-mensen-eigenlijk-geen-kinderen" class="level1">
<h1>Waarom willen mensen eigenlijk <em>geen</em> kinderen?</h1>
<!-- GREAT SUMMARY PETERSON: -->
<!-- - One of the main areas of research in previous studies on voluntary childlessness is the reason behind the decision to forgo parenthood (Agrillo & Nelini, 2008). Studies using a qualitative approach have identified a wide range of different motivators for women, such as; lack of “maternal instinct”; dislike of, or disinterest in, children; fear of painful childbirth; humanitarian concerns about population growth; career orien- tation, and; a more satisfactory marriage (Callan, 1986; Park, 2005; Peterson & Engwall, 2013; Somers, 1993; Veevers, 1980). The most frequently mentioned benefit of remaining childless is the feeling of freedom it affords (Houseknecht, 1987). The repeated references to freedom can partly be explained by the fact that freedom is used to refer to a multitude of different aspects, such as; greater opportunities for self-fulfillment; im- proved financial position; decreased domestic responsibilities;  wider opportunities to be spontaneously mobile and trying new experiences; greater opportunities to socialize, enter- tain friends and build and sustain social networks (Abma & Martinez, 2006; Dykstra & Hagestad, 2007; Morell, 1994; Tanturri & Mencarini, 2008; Wood & Newton, 2006).  -->
<p>Redenen om geen kinderen te hebben vanuit CBS: Arie de Graaf Bron: Onderzoek Gezinsvorming, 2003.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hoe-kijken-we-eigenlijk-naar-mensen-die-bewust-geen-kinderen-willen" class="level1">
<h1>Hoe kijken we eigenlijk naar mensen die bewust geen kinderen willen?</h1>
<!-- Gillespie, no means no, childfree, 2000 -->
<!-- - FINDINGS FROM STUDY: -->
<!--    - DISBELIEF OF EXPLANATIONS OF VOLUNTARY CHILDLESSNESS  -->
<!--         - Participants described the ways others fre- quently disbelieved that they had chosen child- lessness. They described how their choice was often re-cast by others as different more ‘legiti- mate’ explanations were superimposed. These included presuppositions of infertility or other manifestations of fertility denied.  -->
<!--         - A second way in which participants’ ac- counts were disbelieved, was through explain- ing childlessness in terms of the ‘career women’. Alice, a 33-year-old solicitor lived with her female partner and her cat. A keen gardener, she decided many years ago that she did not wish to have children. She emphasised the ways others perceptions of her conformed to stereotypes of the hard, ruthless, unfemi- nine, childless ‘career woman’; of motherhood denied  -->
<!-- - DISREGARD OF EXPLANATIONS OF VOLUNTARY CHILDLESSNESS  -->
<!--     - Participants also described the ways others dis- regarded their accounts of voluntary childless- ness. Often this was by inferring they would ‘change their mind’. As Letherby (1994) has argued, women who have no children are fre- quently themselves considered to be childlike. Participants in this study described how others saw them as not yet having passed into the normal adult female role, and therefore had not yet made the ‘normal’ adult decision to be- come mothers. Thus, participants were simply posited as future mothers, who would change their minds with the onset of maturity  -->
<!--     - A further way in which voluntary childless- ness was disregarded as a legitimate choice was through assumptions that participants would ultimately come to regret childlessness.  -->
<!--     - “Sandra: I think some of them think that we will regret it later on. But if they think that, sorry but that is not the reason that you have children. . . . One person in particular said: ‘Who is going to look after you when you get old?’. I am currently looking after my own elderly parents and I would not wish that on anyone. “ THAT’S REALLY SELFISH  -->
<!--     -  -->
<!-- Pesando, 2018 -->
<!-- - Childless individuals are often depicted as ‘sel!sh’ as they opt out of raising children in favour of investing resources in themselves. -->
<!-- - childless adults are about “20–40 per cent more likely to provide support to their parents, with the association driven by transfers to elderly mothers.  -->
<!-- - From an individual perspective, widespread is the claim that childlessness re"ects sel!sh attitudes on the part of individuals, thought to opt out of raising children in favour of investing resources in themselves.! From a societal perspective, it is commonly held that childless adults are at higher risk of lacking socio-emotional support in later life, hence rising rates of childlessness will lead to increasing demands for public social care and health services (Plotnick "##%; Wolf !%%%). -->
<!-- - The disproportionate research focus on the elderly childless as a group in high need of support, and the recurrent media coverage (Marak "#!*; Sodha "#!(; Woodard "#!$) on the social consequences of increasing rates of childlessness for future social care demands, have led to neglecting the other side of the coin, i.e. how the absence of children affects what people give. -->
<!-- - Our study confirms that social relationships and work are two key spheres for the individual’s well-being and that they are particularly relevant for childbearing expectations. The quality of family relationships is perhaps the most important for interpreting changes in parents’ fertility expectations. A good relationship with the first- born is a source of great satisfaction, and our results suggest that it is, indeed, strongly associated with the expectation of having another child (and vice versa). -->
<!-- Although the pronatalism of the post-World War II period had waned somewhat, such attitudes toward childrearing were still controversial, and the voluntarily childless found stigma management to be a fairly regular chore (May 1995; Veevers 1975). Park 2002 -->
<!-- the childless-by-choice at the turn of the twenty-first century still face stigma and deal with it in ways strikingly similar to thirty years before (Veevers 1975; Park 2002), but can find camaraderie in online support groups.  -->
<!-- Undergraduate textbooks of marriage and family increasingly  -->
<!-- include voluntary childlessness as a legitimate lifestyle option (Chancey and Dumais 2006), and popular literature supporting it has recently been published not only in the  -->
<!-- social science and personal growth genres (Burkett 2000; Cain 2001), but also in humor  -->
<!-- and fiction (Metter 2001; Tonkunaga 2000). Given these developments, it is reasonable to assume that voluntary childlessness is increasing, that society is more accepting of it, or a combination of both.  -->
<!-- - Wie zijn die kindvrije mensen: Somers 1993 -->
<!-- - Prior to 1968, childlessness as listed only as a cross-reference to “sterility” in the literature” -->
<!-- - While choosing nonperanthood may be an emerging lifestyle, it is not necessarily one sport by others. Throughout the literature, this group is viewed negatively and labelled as selfish, maladjusted, unhappy, hedonistic, irresponsible, immature, abnormal, and unnatural  -->
<!-- - Feel stereotyped -->
<section id="acceptatie-van-vrijwillige-kinderloosheid" class="level3">
<h3 class="anchored" data-anchor-id="acceptatie-van-vrijwillige-kinderloosheid">Acceptatie van vrijwillige kinderloosheid</h3>
<p>Maar er is goed nieuws. In een razend tempo is de publieke acceptatie van vrijwillige kinderloosheid gestegen. In 1965 was het nog 20%, in 1996 90%.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<!-- To answer our research questions, we use thirteen waves of the Cultural Change in the Netherlands (CCN) survey (Social and Cultural Planning Office 1996). The CCN data were collected in 1965, 1970, 1975, 1980, 1983, 1985, 1987, 1991, 1992, 1993, 1994, 1995, and 1996, and consist of national representative surveys of Dutch adults age 17 and over. The CCN surveys contain information on values related to politics, social policy, work, and family, and enable us to construct a rich and highly comparable sample, since no changes in survey design or wording of questions were made during the period 1965–1996. The number of respondents ranges from 1,517 to 2,418 per year. Our aggregate sample consists of respondents, and 24,016 respondents have valid data on all variables.  -->
<p>Waarom vond deze verandering plaats? Ten eerste omdat deze plaats vonden in een tijd van toenemende welvaart en de vervulling van primaire behoeften. Jongere generaties streefden niet enkel naar de vervulling van deze primaire behoeften, maar kregen nieuwe waarden die ze nastreefden. Belangrijke “postmaterialistische waarden” waren autonomie, zelf-ontwikkeling, en tolerantie. In het licht van deze waarden is de vrijwillige kinderloosheid geen gek idee. Op een zelfde manier werd er ook steeds ruimhartiger gedacht over bijvoorbeeld ongehuwde, samenwonende koppels of scheidingen, en andere vormen die niet onder de traditionele familie normen beschouwd werden (zie ook the Second Demographic Transition; Lesthaeghe, 2010).</p>
<p>Ook vond in deze tijd van toenemende welvaart en modernisatie de secularisatie plaats. De kerk, met haar expliciet pronatale boodschappen, kreeg een minder grote rol. Enkele voorbeelden hiervan zijn huisbezoeken van priesters aan getrouwde koppels zonder kinderen, en campagnes tegen borstvoeding (waardoor de reproductie weer sneller op gang zou komen). Door de secularisatie was de vrouw niet meer door God op de aarde gezet om meer lammeren Gods te produceren. Toenemende methoden van anticonceptie en de normalisatie van het gebruik hiervan was een derde culturele tendens die de acceptatie van vrijwillige kinderloosheid waarschijnlijk ten goede kwam [NOORDHUIZEN REFERENTIE].</p>
<p>Wie zijn die 10% van de bevolking die het vrijwillige kinderloosheid niet accepteren als keuze? Of je naar de kerk gaat of niet was de belangrijkste verklaring, maar ook mensen met lagere inkomens en met een lager opleidingsniveau waren meer geneigd om bij deze 10% te horen. Deze resultaten worden ondersteund door het werk van Merz &amp; Liefbroer, die keken naar de acceptatie van kinderloosheid in een dozijn Europese landen. Zij vonden dat jongere, minder traditionele, hoger opgeleide, en minder religieuze respondenten vrijwillige kinderloosheid meer accepteerden. Zij vonden verder dat vrouwen het vaker accepteerden dan mannen, dat werkenden het vaker accepteerden dan niet-werkenden, en dat mensen die positiever over hun inkomen waren het ook vaker accepteerden.</p>
<!-- MISSCHIEN VOORBEELD VAN ROLMODELLEN, RUTTE ENZO. -->
</section>
</section>
<section id="waarom-willen-mensen-eigenlijk-kinderen" class="level1">
<h1>Waarom willen mensen eigenlijk kinderen?</h1>
<p>Alhoewel dit een gemakkelijk te beantwoorden vraag lijkt, is hier toch behoorlijk gesteggel over, zeker onder de economen die hier allerlei wilde theorieën voor hebben. Een minder wild idee is dat mensen kinderen ‘nemen’, zodat die kinderen voor je kunnen zorgen op de oude dag. Dit lijkt plausibel, maar gaat direct in tegen evolutionaire ideeën over ouderschap. Een ander idee is dat mensen kinderen nemen (of juist niet) om onzekerheid in hun leven te vermijden. Weer een ander idee vanuit de economie is dat mensen kinderen willen omdat die kinderen op latere leeftijd zouden zorgen voor goede sociale relatie die de sociale positie van de ouders zou versterken. Crazy. Een wat plausibeler economisch idee is dat geld belangrijk is voor koppels in het krijgen van kinderen, en betere financiele omstandigheden voor individuen leiden vaak tot meer kinderen (alhoewel de effecten niet sterk zijn). Alhoewel economische motieven belangrijk zijn in het krijgen van kinderen, lijken economische motieven weinig invloed te hebben óf mensen wel of geen kinderen willen hebben.</p>
<p>Morgan King en BLA schrijven hier nuttige dingen over. De kinderwens zal voortkomen uit een combinatie van biologische invloeden, sociale invloeden, en ‘rationale’ afwegingen. Met biologische invloeden wordt bedoeld dat onze evolutionaire historie er voor gezorgd heeft dat ouderschap een lonkende keuze is, en dat kinderen opvoeden plezierig is. Onze enorme affectie voor beesten met grote ogen en ronde gezichtjes is een duidelijk voorbeeld van onze aangeboren(?) voorkeuren. Ook zijn er studies die zicht richten op de enorme kinderwens van vrouwen die uit het niets kan ontstaan, de zogeheten ‘baby fever’.</p>
<!-- MISSCHIEN DIT VERWERKEN -->
<!-- Children & Happiness -->
<!-- The choice to have a child is clearly intertwined with a range of other consumption and life cycle decisions, from which individuals also derive well-being and satisfaction: labour force participation, careers, leisure time, travel and mobility, material consumption and other aspects of self-realization emphasized in the Second Demographic Transition theory. And clearly, there has been a sea of change: fertility in virtually all high-income countries is low (near or below replacement level). But parenthood has not ‘‘gone out of fashion’’. Despite the fact foregone parenthood is nowadays a commonly accepted choice in highly developed countries; parenthood continues to be far more common than childlessness even among relatively young cohorts. And an increasing number of individuals craves for the experience of parenthood, when for various impediments (infecundity, lack of partner, or same sex partner), it cannot be materialized, arising new controversial phenomena, such as assisted reproduction techniques and gestational surrogacy (e.g. Leridon and Slama 2008).  -->
<p>Onze voorkeuren bestaan niet in een vacuum, en ook onze aangeboren neigingen tot bepaalde voorkeuren zullen alleen tot uiting komen als onze omgeving daar de gelegenheid voor biedt. Dat kan positief of negatief. Het is een understatement om te zeggen dat ouders heel veel van hun kinderen houden. Dat ervaren van dat algehele sentiment zal de kinderwens van mensen vermoedelijk verhogen. De omgeving kan ook dermate onderdrukkend zijn, dat de enige uitkomst ouderschap is. Dus als de social omgeving, vrouwen ziet als moeders, en dat enkel moeders echte vrouwen zijn, dan zullen vrouwen dit internaliseren en zullen zij een kinderwens hebben. Religies zijn hier doorgaans goed in.</p>
<p>De kinderwens zal verder, althans in huidige tijden, een afweging zijn tussen de verschillende elementen die belangrijk zijn in een mensenleving; zelf-ontplooing, vrijheid, werk, en zulks wat. Hoe een individu deze dingen weegt, in combinatie met de perceptie hoe kinderen deze dingen zullen dwarsbomen, zal tot een bepaalde kinderwens leiden. Waarschijnlijk zal voor de meeste mensen de keuze zijn waarvan zij denken dat ze dat het meeste levensgeluk zal opbrengen.</p>
<p>We kunnen het natuurlijk ook gewoon aan mensen vragen. Van Balen &amp; Trimbos_Kemper ondervroegen XXX Amerikaans koppels die graag een kind willen en al een tijd aan het proberen waren, waarom ze eigenlijk kinderen wilden hebben. Onderstaande grafiek geeft het antwoord.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<!-- Happiness denotes the expected feelings of affection and happiness in the relationship with children. By well-being is meant the expected positive effects for the family-relationship. Motherhood/fatherhood is defined as the expectation that parenthood will give life-fulfilment. Identity consists of the desire to have children as a means of achieving adulthood and identity-strengthening. Continuity is understood as the desired affective relation with grown-up children and the wish to live on symbolically after one's death. Social control denotes the implicit or explicit pressure from outside the couple to procreate. -->
<!-- ### PRUT NOG VERWERKEN -->
<!-- NOORWEGEN KINDEROPVANG STURDIE -->
<!-- - This more rapid educational increase for women has been linked to a number of factors including changes in family structures and women’s increasing incentives to obtain market-linked skills (Buchmann and DiPrete 2006). Concomitant with and related to the rise in female educational attainment has been a sub- stantial increase in women’s participation in the paid labor force (e.g., Adsera 2004; Pettit and Hook 2005; Raley et al. 2006; van der Lippe and van Dijk 2001). Higher educational attainment produces greater economic returns to employment and is associated with better jobs—those with better benefits, more pleasant working conditions, and higher status. A variety of other fac- tors also contribute to increased female labor force participation, including greater demand for service workers and for workers in female-dominated occupations, increases in age at marriage, and the relative stagnation in male earning power (England and Farkas 1986; Oppenheimer 1994; Pettit and Hook 2005). Further, government attempts at family/work reconciliation may lead to additional increases in female labor force participation (Apps and Rees 2004; Lewis et al. 2008; Mandel and Semyonov 2005; Spiess and Wrohlich 2008; Wrohlich 2008).  -->
<!-- SCHOEN ET AL -->
<!-- Debate is still dominated by so- ciologically and anthropologically informed utility maximization theories -->
<!-- in the tradition Caldwell established (Cain 1983; Kertzer and Hogan 1989; Handwerker 1986). - Central to those theories is the idea of children as "re- sources" who contribute to the family economy and support their aging ents. With the shift from an agricultural to an industrial economy and the social changes that typically accompany the transformation, the economic benefits of children virtually disappear, while their costs-in terms of edu- cation and other expenditures-increase dramatically. Fertility decline is -->
<!-- the result of those decreasing benefits and increasing costs.  -->
<!-- - Theoretical work on fertility determinants in low-fertility countries has emphasized two variables: the direct economic costs of children to par- ents (e.g., Becker 1981; Simon 1974) and the opportunity costs children impose by inhibiting the paid labor force participation of women (e.g., Bianchi and Spain 1986; Gerson 1985).  -->
<!-- - Children thus constitute a form of investment capital: the larger their num- ber, the greater the potential return.  -->
<!-- - Children cre- ate social capital by establishing new relations among persons (parents, grandparents, aunts, uncles, siblings, friends) that are then available to par- ents "as resources that they can use to achieve their interests" (Coleman 1988: S101).  -->
<!-- we found strong support for the hypothesis that persons for whom relationships created by children are important con- siderations in childbearing decisions are more likely to intend to have a (another) child. The 'social capital" effect is strong across parity, union sta- tus, gender, and race. The theoretical and empirical evidence presented here provides strong justification for considering the social resource value of chil- dren as a prime motivator of childbearing in low-fertility populations.  -->
<!-- Morgan and KING, Why have childreN? -->
<!-- - genetics, social coercion, rational choice -->
<!-- - Among social scientists the prevailing view is that biology, generally, and evolu- tion, specifically, provides few clues to contemporary human behaviour (see Wilson, 1999: 531). Social science emphasizes the malleability of human behav- iour and cross-cultural variability provides impressive evidence. Behavioural genetics provides a counter-argument.  -->
<!-- . . . kind acts toward our children can be demystified when we realize that they can benefit copies of the genes that build a brain that inclines a person toward such acts – not the copies in the kind actor but the copies likely to be found in the beneficiaries.  -->
<!-- As a result, “we are genetically predisposed to cherish and support our own children” (Potts, 1997: 5). Herein lies a set of predispositions that may make parenting a powerful emotional experience.  -->
<!-- In addition, the contingent nature of investment and affection has had evolutionary consequences for infants’ bodies, minds, and temperaments. Infant characteristics that help them extract commitment from close kin, such as disproportionately large eyes, would have been selected only in an environment of conditional attachment (Hrdy, 1999: 380). Thus, the existence of these characteristics and adults’ responses to them provide supportive evidence for mothers’ and fathers’ selective attachment.  -->
<!-- - ON SOCIAL COERCION: Writing in the late 1960s, Blake pointed toward gender inequality in the labour force as a powerful pronatalist force. Women’s lower earnings in the labour market vis-à-vis men encouraged marriage and suppressed the opportunity costs of childbearing. Norms against non-marital sex and especially against non-procreative sex provide other examples. Likewise, negative stereotypes of childless persons (i.e., as immature, selfish, likely to be lonely in old age, etc.; see Blake, 1979) and of only children (i.e., selfish, not sociable, etc.; see Blake, 1981) contributed to strong norms that couples should have at least two children, provided that they were married and could afford them.  -->
<!-- - RATIONAL CHOICE: When asked why they wanted a first child, respondents most often chose answers that stressed emotional or psychological rationales (i.e., to have a child to love and care for, fun around the house, to carry on the family name). Women at parities one, two and three were most likely to select explanations centering on family building and sex composition (i.e., pleasure to watch children grow, to bring spouses closer together, to provide companionship for siblings and to have a boy or a girl). Desire for births by higher parity women were associated with rationales that stressed the economic utility of children (i.e., help around the house, help in old age, economic help). Those not wanting another child also gave very different rationales depending upon their current parity. The financial burden of children was not a popular rationale for not intending a first child and was much more often given at parities three and above. Being “less free” and having “less time with spouse” were rationales for not wanting a child among very low parity women.  -->
<!-- - - Similarly, what values, other than a desire to maximize income or wealth, might be the basis for children’s value or utility? The discussion of genetic predispositions above suggests that we should not discount individuals’ responses such as: “to have a child to love” and “joy that comes from watching a child grow.” In some sense, these answers may provide the ultimate answer to “why have children?” It is as final an answer as one could imagine.  -->
<!-- -  -->
<!-- Even given an innate predisposition to cherish and love our children, few will organize life around maximizing this particular pleasurable activity. Instead, consistent with the hypothesized predispositions to seek a very general resource, status, and much social science evidence focusing on the acquisition of wealth, power and prestige, the pursuit of these generalized resources is pervasive  -->
<!-- When we consider that social capital can be “negative” as well as “positive,” we are unpersuaded that children consistently provide net positive social capital in contemporary low fertility countries.5  -->
<!-- -  -->
<!-- BRILLIANT QUOTE: . . . in countries where contraception is used, a realistic proposal for a govern- ment policy of lowering the birth rate reads like a catalogue of horrors: squeeze consumers through taxation and inflation; make housing very scarce by limiting construction; force wives and mothers to work outside the home to offset the inadequacy of male wages, yet provide few childcare facilities encourage migration to the city by paying low wages in the country and providing few rural jobs; increase congestion in the cities by starving the transit system; increase personal insecurity by encouraging conditions that produce unemployment and by haphazard political arrests.  -->
<section id="wat-beïnvloedt-de-kinderwens" class="level2">
<h2 class="anchored" data-anchor-id="wat-beïnvloedt-de-kinderwens">Wat beïnvloedt de kinderwens?</h2>
<!-- Xu: -->
<!-- - Categories: age, number of kids, lifestyle, pre-conditions (housing, partner), health issues, dissatisfaction with world -->
<!-- - DEMOS: “Vijf procent van de ondervraagde vrouwen noemde ontevredenheid over de (toekomstige) toestand in de wereld als thema in de overweging om wel of geen kinderen te krijgen. Slechts drie vrouwen, 0,7% van de steekproef, noemden expliciet klimaatverandering als reden om onzeker te zijn over het krijgen van kinderen. Deze vrouwen hadden over het geheel genomen een meer ontevreden of pessimistische kijk op de wereld: naast klimaatverandering uitten zij ook nog andere zorgen, zoals over terrorisme, smartphonegebruik en natuurrampen. Ondanks het geringe aantal vrouwen dat dergelijke zorgen uitte, kunnen deze zorgen wel een sterke invloed hebben op hun uiteindelijke kindertal. Het grootste deel van de ondervraagde vrouwen (46%) noemde echter de levensfase waarin ze zich bevonden als het belangrijkste thema in de overweging om wel of geen kinderen te krijgen. Bijna een kwart (24%) zag gezondheids- en zwangerschapsgerelateerde zorgen als belangrijkste overweging. Daarnaast noemde ongeveer zeven procent hun liefde voor kinderen. Ongeveer vijf procent gaf aan dat zij geen concrete plannen hadden of dat kinderen “niet gepland kunnen worden”. De resterende 13 procent noemde diverse andere thema’s.” -->
<!-- Luppi and Mencarini, 2018 -->
<!-- - Results suggest that a decline in new parents’ life satisfaction, overall and in different life domains, is associated with a significant decline in fertility expectations.  -->
<!-- - Recent studies have suggested a significant decline in subjective well-being – measured either as happiness or as life satisfaction – following childbearing events (Clark et al. 2008; Frijters, Johnston, and Shields 2011; Margolis and Myrskylä 2011; Myrskylä and Margolis 2014; Pollman-Schult 2014). Yet subjective well-being is positively linked to wanting and to having additional children (e.g., Perelli-Harris 2006; Parr 2010; Le Moglie, Mencarini, and Rapallini 2015; Luppi 2016). The birth of the first child therefore affects not only the parents’ subjective well-being but also subsequent fertility.  -->
<!-- - A large body of studies suggests that there is a decline in individuals’ subjective well- being – either happiness or life satisfaction3 – once parenthood begins (Clark et al. 2008; Frijters, Johnston, and Shields 2011; Margolis and Myrskylä 2011; Myrskylä and Margolis 2014; Pollman-Schult 2014; see Kohler and Mencarini 2016 for a review). -->
<!-- - Using the European Social Survey, Billari (2009) finds that happier people have stronger intentions of having a child. Meanwhile, recent analysis confirms that the additional happiness that parents anticipate while having children becomes a key driver in childbearing decisions (Billari and Kohler 2009).  -->
<!-- - There is a high positive correlation between overall life satisfaction and fertility expectations for both men and women (ρ=0.64).  -->
</section>
<section id="waarom-krijgen-mensen-minder-kinderen-dan-ze-willen" class="level2">
<h2 class="anchored" data-anchor-id="waarom-krijgen-mensen-minder-kinderen-dan-ze-willen">Waarom krijgen mensen minder kinderen dan ze willen?</h2>
<p>De belangrijkste redenen daarvoor zijn: 1) sommige mensen / koppels zijn minder vruchtbaar; 2) door het uitstellen van de kinderwens en de afnemende vruchtbaarheid; 3) door het niet vinden van een partner of het eindigen van een relatie. Het kan natuurlijk ook zo zijn dat mensen hun gewenste kindertal bijstellen na levensgebeurtenissen (zoals de geboorte van een eerste kind), en dat dit nieuwe gewenste aantal eerder lager dan hoger uitvalt.</p>
</section>
<section id="waarom-willen-en-krijgen-de-meeste-koppels-twee-kinderen" class="level2">
<h2 class="anchored" data-anchor-id="waarom-willen-en-krijgen-de-meeste-koppels-twee-kinderen">Waarom willen en krijgen de meeste koppels twee kinderen?</h2>
<p>De meeste mensen krijgen twee kinderen. Gerelateerd hieraan, als je mensen vraagt naar hun favoriete kindertal, dan is het meest gekozen antwoord “2”. Waarom is 2 het magische getal? Wie zal het zeggen. Misschien kunnen we wel beantwoorden: waarom is 1 niet het meest gewenste aantal? Veel mensen vinden toch dat een familie bestaat uit meerdere kinderen, en hebben romantische en waarschijnlijk verkeerde ideeën over hoe ‘enig kinderen’ verwend en onaangepast worden. Of hoe twee kinderen met elkaar kunnen spelen, en de ouders zelfs werk uit handen zouden kunnen nemen. Waarom niet meer dan 2? Wederom speculatie, maar er is een studie “carseats as contraception” dat beweert dat veiligheidswetten, in het specifieke geval, verplichte autostoeltjes voor kinderen tot en met 8 jaar een zeer antinatale werking heeft. Met name voor ouders met twee kinderen. Drie kinderzitjes passen niet in één auto, dus een derde kind vergt een nieuwe auto. Volgens de auteurs hebben de regels van kinderzitjes in 2017 voor 8000 minder geboortes gezorgd in de Verenigde Staten. Wellicht zijn er meer van dit soort maatschappelijke ‘beperkingen’ die een hogere fertiliteit in de weg staan. Een fiets heeft ook maar twee zitjes. Een huis met vier slaapkamers is een luxe te noemen. Twee ouders hebben ook maar twee paar handen.</p>
<!-- TV REDUCES FERTILITY. TEEN  -->
<!-- This paper explores the impact of the introduction of the widely viewed MTV reality show 16 and Pregnant on teen childbearing. Our main analysis relates geographic variation in changes in teen childbearing rates to viewership of the show. We implement an instrumental variables (IV) strategy using local area MTV ratings data from a pre-period to predict local area 16 and Pregnant ratings. The results imply that this show led to a 4.3 percent reduction in teen births. An examination of Google Trends and Twitter data sug- gest that the show led to increased interest in contraceptive use and abortion.  -->
</section>
</section>
<section id="hoe-kan-de-overheid-zich-bemoeien-met-het-kindertal" class="level1">
<h1>Hoe kan de overheid zich bemoeien met het kindertal?</h1>
<p>De overheid bemoeit zich zeker met het kindertal. Over de gehele wereld gebeurt dat nog steeds vaker met anti-nataal beleid dan met pro-nataal beleid, alhoewel er steeds meer overheden zijn die pronatale plannen hebben. Beleid om het kindertal te onderdrukken zijn vaak effectiever, maar kunnen ook erg drastisch zijn. Een effectieve methode om het kindertal in een land omlaag te krijgen is om jonge meisjes en vrouwen naar school te sturen. De vrouwen ontwikkelen meer autonomie en een betere culturele en economische positie, en zullen minder vaak op jonge leeftijd kinderen hebben. Ook worden dochters dan ‘duurder’, waardoor families minder kinderen zullen nastreven. Informatiecampagnes over de problemen met grote gezinnen of over anticonceptie is ook een effectieve methode. Dan zijn er nog de ernstigere vormen van het controleren van het kindertal zoals (verplichte) sterilisatie. China’s one child policy was succesvol, en werd onder andere geforceerd door boetes aan families te geven met meer kinderen, of door mensen met een te groot kindertal uit te sluiten voor bepaalde, prominente posities.</p>
<p>In landen met een laag kindertal is er vaak beleid om het verschil tussen het gewenste en het gerealiseerde kindertal te reduceren, met de gedachte om de negatieve gevolgen van ongewenste kinderloosheid terug te dringen. In Europa zijn er ook steeds meer landen die actief het kindertal omhoog proberen te krijgen om de negatieve gevolgen van de vergrijzing tegen te gaan. Er is maar weinig dat echt werkt. Met name in de oost-Europese landen proberen ze van alles. In Polen heeft een baby bonus (1600 dollar per kind) niet geleid tot een hoger kindertal. In Hongarije halen ze alles uit de kast: aanzienlijke leningen die als gift worden beschouwd als een koppel drie kinderen heeft; genationaliseerde IVF-klinieken; forse belastingvoordelen voor gezinnen met vier of meer kinderen; goedkope kinderopvang; regels rond de huisvesting van jongeren. Al dit beleid heeft zeker enig effect gehad, maar de effecten zijn klein en de kosten niet gering. Één extra geboorte kost 19,000 euro met behulp van het belastingvoordeel, 14,000 euro voor het verbeteren van de kinderopvang, en 3000 euro voor beleid dat de huisvesting verbetert.</p>
<p>Een laatste mooie voorbeeld is Rusland, waar in een bepaalde regio de “Dag van Conceptie” bestaat, een vrije dag die koppels kunnen gebruiken om het huwelijk te conumeren. Mocht er een baby worden geboren na negen maanden, dan zijn er verschillende prijzen zoals geld, auto’s en koelkasten (Skirbekk REF; p )</p>
<p>Soms kan beleid juist het tegengestelde bewerkstelligen. In Israel, werd de medische geassisteerde reproductie sterk gesponsord. Het effect van dit beleid was dat juist meer vrouwen op de arbeidsmarkt vertoefden en hun kinderwens uitstelden.</p>
<p>Wat werkt het beste? Beleid dat in brede zin de levens van jonge mensen verbetert. Beleid dat de onzekerheid voor jongeren wegneemt en de stabiliteit vergroot. Dus goede kansen op een vaste baan en een stabiel inkomen. Fatsoenlijke kansen op de arbeidsmarkt. Het tegenovergestelde van de tendens in Nederland. Een ander belangrijk element is goed beschikbare en goedkope kinderopvang. Opvang die voor, met name vrouwen, het conflict tussen werken en familie vermindert.</p>
<!-- - Norway has adopted a number of parental leave policies motivated by an interest in promoting gender equality, improving the well-being of women and families, involving fathers in childrearing, and stimulating the economy through increased female labor force participation  -->
<!-- - Norway also has parent-friendly workplace policies. For example, a new mother is entitled to two hours of break time each day to permit breast- feeding. Parents have the right to stay home with sick children 20–30 days per year.  -->
<!-- - his discussion of Norway could be greatly expanded; for example, its provision of ample reserved space for baby carriages on public buses, metros, and trains, if not unique, is a rarity that makes life more convenient for parents of infants.1 -->
<!-- # REVISIT LATER -->
<p>CBS prognose kinderloosheid, 2020</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-09-13-childlessness_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

 ]]></description>
  <category>R</category>
  <category>Fertility</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-09-13-childlessness.html</guid>
  <pubDate>Tue, 12 Sep 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/childlessness.png" medium="image" type="image/png" height="86" width="144"/>
</item>
<item>
  <title>Recreating density plots ‘by hand’</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-08-24-density-plots.html</link>
  <description><![CDATA[ 



<p>Often, in my visualisations, I use density plots in one way or another, for example through violin plots. I roughly understand what they mean, but I want to be able to calculate a density plot by hand. Just the once, so I will never have to do it again, and know that <em>in principle</em> I will be able to do it. Learning about them also helps in understanding the distinctions between <code>dunif</code>, <code>punif</code>, <code>qunif</code>, and <code>runif</code> (or <code>dnorm</code>, <code>pnorm</code>, <code>qnorm</code>, and <code>rnorm</code> or <code>dexp</code>, <code>pexp</code>, <code>qexp</code>, and <code>rexp</code> et cetera)</p>
<section id="understanding-the-uniform-density-distribution" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-uniform-density-distribution">Understanding the uniform (density) distribution</h2>
<section id="densitymin-0-max-1" class="level3">
<h3 class="anchored" data-anchor-id="densitymin-0-max-1">density(min = 0, max = 1)</h3>
<p>When generating generating random numbers we often do so from a uniform distribution between 0 and 1. Any number between 0 and 1 occurs equally frequently. As we learn from <code>?qunif</code>, the density function of the uniform distribution is described by:</p>
<p><img src="https://latex.codecogs.com/png.latex?f(x)%20=%20%5Cfrac%7B1%7D%7Bmax(x)%20-%20min(x)%7D"></p>
<p>Thus, the density function in this case, for all x’s is <img src="https://latex.codecogs.com/png.latex?f(%5Ctext%7Bfor%20all%20x%7D)%20=%20%5Cfrac%7B1%7D%7B1%20-%200%7D%20=%20%5Cfrac%7B1%7D%7B1%7D%20=%201"> (I am pretty sure there exists a mathematical symbol for “for all x”, but I do not know it). Let’s draw the function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-2">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb1-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-5">) </span>
<span id="cb1-6"></span>
<span id="cb1-7">dens0_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> density)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"density(0, 1)"</span>, </span>
<span id="cb1-10">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span>
<span id="cb1-13">dens0_1</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>By definition, for any density curve, the sum under the area of the “curve” adds up to 1. Let’s check: the total area under the curve is the width, which equals 1 (from 0 to 1) times the height, which also equals 1 (for all x); thus, 1 x 1 is 1. Score!</p>
<p><code>R</code> could have told us this through:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Now, something <em>slightly</em> more complex. What is the chance of having a number between 0.7 and 0.8?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">dens0_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dens0_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_area</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) </span>
<span id="cb4-3"></span>
<span id="cb4-4">dens0_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_segment</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.02</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.02</span>),</span>
<span id="cb4-6">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ends =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"both"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>, </span>
<span id="cb4-7">                                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_segment</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.82</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.82</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yend =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb4-9">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ends =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"both"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>, </span>
<span id="cb4-10">                                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.82</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The area under the curve is 0.1 * 1 = 0.1. Through <code>R</code>, this could have been calculated via:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1</code></pre>
</div>
</div>
</section>
<section id="densitymin-1-max-5" class="level3">
<h3 class="anchored" data-anchor-id="densitymin-1-max-5">density(min = 1, max = 5)</h3>
<p>Ok, so what if we had used a density function from 1 to 5? Thus, the density function in this case, for all x’s is <img src="https://latex.codecogs.com/png.latex?f(%5Ctext%7Bfor%20all%20x%7D)%20=%20%5Cfrac%7B1%7D%7B5%20-%201%7D%20=%20%5Cfrac%7B1%7D%7B4%7D%20=%200.25">. The area under the curve should be 1: the area under the curve from density(min = 1, max = 5) is the width (from 1 to 5 is a width of 4) times height (0.25 for all); thus, 4 x 0.25 = 1. Check.</p>
<p>Let’s draw this function in the same graph, and let’s also draw the area under the curve between x = 3 and x = 4:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">df2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb7-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>),</span>
<span id="cb7-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>)</span>
<span id="cb7-4">) </span>
<span id="cb7-5"></span>
<span id="cb7-6">dens0_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"density(1, 5)"</span>, </span>
<span id="cb7-9">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_area</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_segment</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.02</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.02</span>),</span>
<span id="cb7-12">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ends =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"both"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>,</span>
<span id="cb7-13">                                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_segment</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yend =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>),</span>
<span id="cb7-15">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arrow =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrow</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ends =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"both"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"closed"</span>,</span>
<span id="cb7-16">                                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.125</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.25"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>),</span>
<span id="cb7-21">                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.015</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The area under the curve from density(min = 1, max = 5), and the relative frequency of having a number between 3 and 4, is the width (from 3 to 4 is a width of 1) times height (0.25 for all); thus, 1 x 0.25 = 0.25. 25%. Makes sense.</p>
<p><code>R</code> would have gotten this for us through:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.25</code></pre>
</div>
</div>
</section>
<section id="dunif-vs-punif-vs-qunif-vs-runif" class="level3">
<h3 class="anchored" data-anchor-id="dunif-vs-punif-vs-qunif-vs-runif">dunif vs punif vs qunif vs runif</h3>
<p>For the uniform function, we calculated the density ourselves which is identical for each “x”. We could have let <code>R</code> do this for us using <code>dunif</code>:</p>
<p>For the uniform(min = 0, max = 1) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for each step of 0.1 between values 0 and 1</span></span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># calculate density</span></span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dunif</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p>For the uniform(min = 1, max = 5) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for each step of 1 between values 0 and 5</span></span>
<span id="cb12-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># calculate density</span></span>
<span id="cb12-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dunif</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.00 0.25 0.25 0.25 0.25 0.25</code></pre>
</div>
</div>
<p>0 for x = 0, as it should!</p>
<p>We’ve already seen <code>punif</code> in action, but let’s see it again. Let’s find out the probability that a number is between 0 and 0.35 for the uniform(min = 0, max = 1) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.35</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.35</code></pre>
</div>
</div>
<p>And let’s find out the probability that a number is between 2.5 and 4.2 for the uniform(min = 1, max = 5) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># probability for numbers between 1 and 4.2 </span></span>
<span id="cb16-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">punif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># probability for numbers between 1 and 2.5 </span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.175</code></pre>
</div>
</div>
<p>The <code>qunif</code> function goes from a probability back to the “x”. For example, which “x” corresponds to a probability of 0.5. Thus, which area under the curve, starting from the minimum of x to the x we are looking for equals 0.5.</p>
<p>For the unif(min = 0, max = 1) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qunif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
</div>
<p>For the unif(0.5, min = 1, max = 5) distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qunif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Or let’s say we are interested in the top 1% of x’s from the <code>unif(min = 1, max = 5)</code> distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qunif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.99</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.96</code></pre>
</div>
</div>
<p>4.96 and higher! This <em>might</em> make more sense when we talk about the normal distribution (<code>qnorm</code>).</p>
<p><code>runif</code> lets you draw random numbers from said distribution. Let’s draw 11 numbers from the <code>unif(min = 1, max = 5)</code> distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2.201886 3.594314 1.285670 1.266898 1.843133 3.455094 1.605378 3.898504
 [9] 4.929507 3.570989 3.762690</code></pre>
</div>
</div>
<p>Alright, easy enough. Let’s move to the (standard) normal distribution, because that is the one that is used for violinplots and the like.</p>
</section>
</section>
<section id="understanding-the-normal-density-distribution" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-normal-density-distribution">Understanding the normal (density) distribution</h2>
<p>The normal distribution is defined by the mean (<img src="https://latex.codecogs.com/png.latex?%5Cmu">) and the standard deviation (<img src="https://latex.codecogs.com/png.latex?%5Csigma">), and its density distribution (better yet: probability density function) is defined by:</p>
<p><img src="https://latex.codecogs.com/png.latex?f(x)%20=%20%5Cfrac%7B1%7D%7B%7B%5Csigma%20%5Csqrt%20%7B2%5Cpi%20%7D%20%7D%7De%5E%7B%7B%7B%20-(%20%7Bx%20-%20%5Cmu%20%7D)%5E2%7D%20/%202%5Csigma%5E2%7D%20%7D"> With the standard normal distribution, <img src="https://latex.codecogs.com/png.latex?%5Cmu%20=%200"> and <img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%201">, in which case the above function reduces to:</p>
<p><img src="https://latex.codecogs.com/png.latex?f(x)%20=%20%5Cfrac%7B1%7D%7B%7B%5Csqrt%20%7B2%5Cpi%20%7D%20%7D%7De%5E%7B%7B%7B%20-%5Cfrac%7B1%7D%7B2%7Dx%7D%20%7D%20%7D"> Let’s turn the probability density function for a normal distribution into an <code>R</code>-function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1">pdf_norm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) {</span>
<span id="cb26-2">  (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (sd <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sqrt</span>( <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> pi ))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exp</span>( (<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> mean)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> sd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)  )</span>
<span id="cb26-3">}</span></code></pre></div>
</div>
<p>Let’s see if it works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pdf_norm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># obviously mean = 0, sd = 1 not necessary</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3989423</code></pre>
</div>
</div>
<p>Let’s draw it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)</span>
<span id="cb29-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># I use tibble here so that y can be calculated immediately</span></span>
<span id="cb29-3">df_norm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pdf_norm</span>(x))</span>
<span id="cb29-4"></span>
<span id="cb29-5">dens_norm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_norm, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> density)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb29-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb29-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1">dens_norm</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># c(, '#ef8a62')</span></span></code></pre></div>
</div>
<p>We’ve created our own probability density function for the normal distribution in <code>pdf_norm</code>, but we did not have to because this is exactly what is stored in the function <code>dnorm</code>. Let’s see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create y-values on the base of dnorm</span></span>
<span id="cb33-2">df_norm2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>), </span>
<span id="cb33-3">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))</span>
<span id="cb33-4"></span>
<span id="cb33-5">dens_norm <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb33-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df_norm2, </span>
<span id="cb33-7">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> density), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now, through <code>dnorm</code>, we can calculate the highest density value which lies at x = 0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3989423</code></pre>
</div>
</div>
<p>Let’s visualise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># We're using the results from dnorm here (y2)</span></span>
<span id="cb36-2">dens_norm2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_norm2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> density)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb36-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb36-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb36-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span>
<span id="cb36-6"></span>
<span id="cb36-7">dens_norm2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb36-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), </span>
<span id="cb36-9">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb36-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), </span>
<span id="cb36-11">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now, we can look for probabilities. This time, probabilities under the curve are not as easily calculated by hand, but we’ve seen above that we could get these probabilities through <code>punif</code> for the uniform distribution, and in the same way we can use <code>pnorm</code> to find probabilities for the normal distribution! Let’s try finding the probability of finding an x equal to or below -1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1586553</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1">dens_norm2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb39-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_area</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">subset</span>(df_norm2, x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), </span>
<span id="cb39-3">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb39-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>, </span>
<span id="cb39-5">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), </span>
<span id="cb39-6">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Or between 0 and 2:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1">p_0_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pnorm</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">q =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb40-2">p_0_2</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4772499</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1">dens_norm2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_area</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">subset</span>(df_norm, x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), </span>
<span id="cb42-3">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb42-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>, </span>
<span id="cb42-5">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(p_0_2, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>) </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="density-plots" class="level2">
<h2 class="anchored" data-anchor-id="density-plots">Density plots</h2>
<p>We’ve did the ground work for the density plots. Now we try to understand how we get something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1">df_dens <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))</span>
<span id="cb43-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_dens, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb43-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It’s important to realise that under hood something like this happens:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_dens, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb44-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(</span>
<span id="cb44-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">kernel =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gaussian"</span>,</span>
<span id="cb44-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bw =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nrd0"</span>,</span>
<span id="cb44-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>,</span>
<span id="cb44-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb44-7">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb44-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These arguments (<code>kernel = "gaussian"</code> and <code>bw = "nrd0"</code>) are passed to the function <code>density()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> df_dens<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">kernel =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gaussian"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bw =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nrd0"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
    density.default(x = df_dens$x, bw = "nrd0", kernel = "gaussian")

Data: df_dens$x (3 obs.);   Bandwidth 'bw' = 0.2696

       x                 y           
 Min.   :-0.8087   Min.   :0.005535  
 1st Qu.:-0.1544   1st Qu.:0.103430  
 Median : 0.5000   Median :0.447735  
 Mean   : 0.5000   Mean   :0.381337  
 3rd Qu.: 1.1544   3rd Qu.:0.545436  
 Max.   : 1.8087   Max.   :0.848818  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># same as density(x = df_dens$x)</span></span></code></pre></div>
</div>
<p>Just to show that <code>density</code> leads to the same graph as <code>geom_density</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1">dens_calc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> df_dens<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x)</span>
<span id="cb48-2">df_dens2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> dens_calc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> dens_calc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>y)</span>
<span id="cb48-3"></span>
<span id="cb48-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_dens, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb48-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb48-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df_dens2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, </span>
<span id="cb48-7">               <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> density),</span>
<span id="cb48-8">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb48-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To arrive at these results, it is important to understand the <code>kernel = "gaussian"</code> and <code>bw = "nrd0"</code> arguments.</p>
</section>
<section id="kernel-density-distributions" class="level2">
<h2 class="anchored" data-anchor-id="kernel-density-distributions">Kernel density distributions</h2>
<p>The density estimation happens through something called a a kernel density distribution. This is defined by:</p>
<p><img src="https://latex.codecogs.com/png.latex?%20%5Chat%7Bf%7D_%7Bh%7D(x)=%5Cfrac%7B1%7D%7Bnh%7D%5Csum_%7Bi=1%7D%5EnK(%5Cfrac%7Bx-x_i%7D%7Bh%7D)%20"></p>
<p>In the above function, <code>K</code>, is the kernel, some non-negative density distribution function, like the ones we have defined above. <code>h</code> is the bandwidth, a positive number that effectively defines the smoothness of the graph. The argument <code>kernel =</code> refers to <code>K</code> and the argument <code>bw =</code> refers to the bandwidth <code>h</code>. As you might guess, the <code>kernel = gaussian"</code> says that we are using the gaussian or normal density distribution as the kernal <code>K</code>!</p>
<p>At this point, I was still a bit lost, but following this <a href="https://aakinshin.net/posts/kde-bw/">great blogpost</a> I understood more. Let’s first assume a bandwidth of 1, and a sample of three numbers from a population {5, 7, 8}.</p>
<p>To build a kernel density estimation (using the normal density distribution) for a sample, we need to perform two steps:</p>
<ol type="1">
<li><p>For each element in the sample, draw a normal distribution where the sample element is the mean, and the variance is defined by the square of the bandwidth, <img src="https://latex.codecogs.com/png.latex?h%5E2">.</p></li>
<li><p>Sum up all the normal distributions from step 1 and divide the sum by <code>nh</code>, which is equal to <code>n</code> in this case, because we defined the bandwidth as 1.</p></li>
</ol>
<p>So, below we’ll plot three normal distributions: <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BN%7D(5,%201)">, <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BN%7D(7,%201)">, and <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BN%7D(8,%201)">, plus its sum divided by three (<code>nh</code>) to arrive at the overall density distribution.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb49-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>),</span>
<span id="cb49-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">norm_5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb49-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">norm_7 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb49-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">norm_8 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dnorm</span>(x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb49-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">norm_sum =</span> (norm_5 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> norm_7 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> norm_8) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb49-7">)</span>
<span id="cb49-8"></span>
<span id="cb49-9">kernel <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> norm_5), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#ef8a62'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> norm_7), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#a83299"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> norm_8), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#67a9cf'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> norm_sum), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgrey"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"density"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb49-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>()</span>
<span id="cb49-16">kernel</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>How does this one stack up to the `geom_density’-distribution?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1">kernel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb50-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(</span>
<span id="cb50-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)),</span>
<span id="cb50-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bw =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remember we used a bandwidth of 1!</span></span>
<span id="cb50-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#f7f7f7'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb50-6">  )</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>SUCCESS!</p>
<p>However, normally we would have <code>geom_density</code> calculate the bandwidth (<code>bw</code>) for us. Let’s see</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bw =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgrey"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># currently unknown bandwidth</span></span>
<span id="cb51-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb51-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Similar but not the same, and that’s because a different binwidth is used. Which binwidth? <code>geom_density</code> uses <code>density</code>. So let’s see what density gives us:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
    density.default(x = c(5, 7, 8))

Data: c(5, 7, 8) (3 obs.);  Bandwidth 'bw' = 0.8087

       x                y           
 Min.   : 2.574   Min.   :0.001845  
 1st Qu.: 4.537   1st Qu.:0.033991  
 Median : 6.500   Median :0.151694  
 Mean   : 6.500   Mean   :0.127113  
 3rd Qu.: 8.463   3rd Qu.:0.185661  
 Max.   :10.426   Max.   :0.273176  </code></pre>
</div>
</div>
<p>So a bandwidth equal to 0.8087322. Let’s validate:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bw =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>bw, </span>
<span id="cb54-3">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkgrey"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># currently unknown bandwidth</span></span>
<span id="cb54-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb54-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.gertstulp.com/posts/posts/2023-08-24-density-plots_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Success, yet again.</p>
<p>How did <code>geom_density</code>, or better yet <code>density</code> arrive at 0.8087322? This is where the other argument <code>bw = "nrd0"</code> comes in. When using <code>density(kernel = "gaussian")</code>, the default way to estimate the bandwidth is through the argument <code>bw = "nrd0"</code>. The help function further tells us that:</p>
<blockquote class="blockquote">
<p>“bw.nrd0 implements a rule-of-thumb for choosing the bandwidth of a Gaussian kernel density estimator. It defaults to 0.9 times the minimum of the standard deviation and the interquartile range divided by 1.34 times the sample size to the negative one-fifth power (= Silverman’s ‘rule of thumb’, Silverman (1986, page 48, eqn (3.31))) unless the quartiles coincide when a positive result will be guaranteed.”</p>
</blockquote>
<p>Not exactly beautiful prose. Anyway, Silverman’s rule of thumb is:</p>
<p><img src="https://latex.codecogs.com/png.latex?b%20=%200.9%20%5Ccdot%20min(%5Chat%7B%5Csigma%7D,%20%5Cfrac%7BIQR%7D%7B1.35%7D)n%5E%7B-%5Cfrac%7B1%7D%7B5%7D%7D"> Let’s see if we can calculate it ourselves.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1">sd <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>))</span>
<span id="cb55-2">Q3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quantile</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>)</span>
<span id="cb55-3">Q1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quantile</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>)</span>
<span id="cb55-4">IQR <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> Q3 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Q1 </span>
<span id="cb55-5">IQR_div <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> IQR <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.34</span></span>
<span id="cb55-6">h_calc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> IQR_div) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
</div>
<p>The (sample) standard deviation of 5, 7, and 8 is 1.5275252.</p>
<p>The IQR is Q3 - Q1 = 7.5 - 6 = 1.5. [in R there are nine different ways to produce quantiles via the <code>quantile</code> function. Sigh.]. The IQR divided by 1.34 is 1.119403. Thus, the IQR/1.34 is smaller than the standard deviation. Thus,</p>
<p><img src="https://latex.codecogs.com/png.latex?b%20=%200.9%20%5Ccdot%201.119403%20%5Ccdot%20n%5E%7B-%5Cfrac%7B1%7D%7B5%7D%7D"> = 0.8087322.</p>
<p><img src="https://www.gertstulp.com/images/yaaay-saturday-night-live.gif" class="img-fluid" style="width:30.0%"></p>
<p>[ Let us completely ignore that using the Silverman’s rule of thumb is <a href="https://aakinshin.net/posts/kde-bw/">ill-advised</a> ]</p>
<section id="are-we-there-yet" class="level3">
<h3 class="anchored" data-anchor-id="are-we-there-yet">Are we there yet?</h3>
<p>NO. We’ve calculated the overall density distributions through the density function of the normal distribution, and we seem to be getting the exact same results. <em>However</em>, under the hood, the <code>density()</code> function is using Fast Fourier Transform [signal processing course nightmares]. <a href="https://www.youtube.com/watch?v=wv7CWZIVkrQ">This great video</a> (which I understand let’s say 73%) explains that a Fast Fourier Transform of a normal distribution is a normal distribution. So I guess it is not weird when we get the same (similar?) results when using the normal density distributions to calculate use as a Kernel. I have reached the limits of my cognitive abilities, so I will not explore this further currently.</p>
<p>I would have not been able to write this post that nobody reads without this <a href="https://aakinshin.net/posts/kde-bw/">blog</a>.</p>


</section>
</section>

 ]]></description>
  <category>R</category>
  <category>Visualisation</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-08-24-density-plots.html</guid>
  <pubDate>Wed, 23 Aug 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/density_blog.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Artikel in Demos</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-06-01-demos.html</link>
  <description><![CDATA[ 



<p>Xiao Xu, Antal van den Bosch, Anne Gauthier, and myself wrote a short piece on women’s feeling of uncertainty about the state of the world and their willingness to have children. You can read it <a href="https://nidi.nl/demos/willen-vrouwen-nog-wel-een-kind-op-deze-wereld-zetten/">here</a>, in Dutch!</p>



 ]]></description>
  <category>Fertility</category>
  <category>Outreach</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-06-01-demos.html</guid>
  <pubDate>Fri, 14 Jul 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/demos-logo.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>A new website</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-07-15-introducing-new-website.html</link>
  <description><![CDATA[ 



<section id="something-new-something-old" class="level2">
<h2 class="anchored" data-anchor-id="something-new-something-old">Something new, something old</h2>
<p>I have a new website. The reason is that the old website partly stopped functioning, because I relied on the Hugo Academic theme. This theme got commercialised and some functionality stopped working. I decided to turn to a Quarto website, which is much better because I understand the underlying code better.</p>
<p>My process is something like: I love making a new website, change a lot, update it frequently in the first weeks. Then I lose interest. Five years after I do a complete rehaul. That’s where we are now. I have a problem.</p>
<p>I browsed the interweb to see if there were nice, Quarto-based websites, and stumbled upon this: <a href="https://realworlddatascience.net/">Real World Data Science</a>. Another one that I liked was <a href="https://ellakaye.co.uk/">ellakaye.co.uk</a>, from which I copied the logo in the upper left corner.</p>
<p>Useful for the website, was the installation of <a href="https://fontawesome.com/">Font Awesome</a> and <a href="https://jpswalsh.github.io/academicons/">Academicons</a> through these Quarto-plugins (<a href="https://github.com/quarto-ext/fontawesome">FA</a> and <a href="https://github.com/schochastics/academicons">Academicons</a>)</p>
</section>
<section id="page-layout-aaaaaahhhhhrticle" class="level2">
<h2 class="anchored" data-anchor-id="page-layout-aaaaaahhhhhrticle">page-layout: aaaaaahhhhhrticle</h2>
<p>Something that I have struggled with most is the following: I though I was able to change the dimensions of the page. For example, in the <code>_quarto.yml</code> page, I can adapt the <a href="https://quarto.org/docs/output-formats/page-layout.html">following</a>:</p>
<pre><code>format:
  html: 
    grid:
      sidebar-width: 300px
      body-width: 900px
      margin-width: 300px</code></pre>
<p>It took me a long time to realise (of which I am still not sure) that this only partly holds for <code>page-layout: custom</code> and <strong>not</strong> for <code>page-layout: article</code> or <code>page-layout: full</code>. For example, a <code>sidebar-width: 0px</code> (remove the sidebar on the left completely) would only work for the landing/home page (which is <code>custom</code>), but not for other pages. I believe that this has to do with the issue that the default set-up in quarto is responsive to device (e.g., phone, table, computer), such that content is scaled appropriately to smaller / larger screen.</p>
<p>I ‘resolved’ this issue, by accepting the default width of the <code>content</code> of the (article) page (around <code>900px</code>), and adapted my landing page accordingly.</p>
<p>Why did I wanted this? On my website, I have three columns that include content plus visualisations in little rectangles These rectangles automatically adjust size given other content on the screen, window size, device, et cetera. This led to ‘problems’. On most pages, there is a table of contents in the <code>margin</code>-area, which ‘pushes’ the three columns to the left on the screen. Now on my landing page, I do not have this margin area at all. The issue was that because of this, the rectangles had a different size on the landing page versus all other pages, and some images were cropped weirdly because of it. I wanted, no I needed, consistency across pages and avoid weird cropping. Eight hours well spent!</p>
</section>
<section id="converting-talks" class="level2">
<h2 class="anchored" data-anchor-id="converting-talks">Converting talks</h2>
<p>The biggest ‘problem’ was that I had lists of publications, blogs, and talks that included Hugo-code. For many of these files, I had to change the YAML at the start of each file. The below describes how I automatised this process.</p>
<p>The original files look something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+++</span></span>
<span id="cb2-2">date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-11-15T00:00:00"</span></span>
<span id="cb2-3">title <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"A roadmap on how to be as open as possible, and as closed as necessary"</span></span>
<span id="cb2-4">authors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gert Stulp"</span>]</span>
<span id="cb2-5">abstract <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"During this event, we aimed at creating a roadmap that help researchers navigate GDPR and Open Science"</span></span>
<span id="cb2-6">abstract_short <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb2-7">event <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Official Launch Groningen Digital Competence Center"</span></span>
<span id="cb2-8">event_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.rug.nl/digital-competence-centre/calendar/2021/gdcc-official-launch"</span></span>
<span id="cb2-9">location <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Groningen, the Netherlands"</span></span>
<span id="cb2-10"></span>
<span id="cb2-11">selected <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> true</span>
<span id="cb2-12">math <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> true</span>
<span id="cb2-13"></span>
<span id="cb2-14">url_pdf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/pdf/2021_YAG_OSCG_DCC.pdf"</span></span>
<span id="cb2-15">url_slides <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb2-16">url_video <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb2-17"></span>
<span id="cb2-18"></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Optional featured image (relative to `static/img/` folder).</span></span>
<span id="cb2-20">[header]</span>
<span id="cb2-21">image <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb2-22">caption <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb2-23"></span>
<span id="cb2-24"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+++</span></span></code></pre></div>
</div>
<p>And need to be transformed to something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb3-2">title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"A roadmap on how to be as open as possible, and as closed as necessary"</span></span>
<span id="cb3-3">description<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-4">  During this event, we aimed at creating a roadmap that help researchers navigate GDPR and Open Science</span>
<span id="cb3-5">categories<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb3-6">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Talk</span>
<span id="cb3-7">author<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gert Stulp"</span></span>
<span id="cb3-8">date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-11-15T00:00:00"</span></span>
<span id="cb3-9">toc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> true</span>
<span id="cb3-10">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> ..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>images<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>new_event.png</span>
<span id="cb3-11">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>alt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> New talk</span>
<span id="cb3-12">language<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> </span>
<span id="cb3-13">    section<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>footnotes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> References</span>
<span id="cb3-14"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb3-15"></span>
<span id="cb3-16"></span>
<span id="cb3-17"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Summary </span></span>
<span id="cb3-18"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&lt;</span>br<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb3-19">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa podcast <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Official Launch Groningen Digital Competence Center</span>
<span id="cb3-20"></span>
<span id="cb3-21">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa map<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>marker <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Groningen, the Netherlands</span>
<span id="cb3-22"></span>
<span id="cb3-23">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa window<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>maximize <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Click [here](https<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span>www.rug.nl<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>digital<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>competence<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>centre<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>calendar<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2021</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>gdcc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>official<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>launch) <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> website</span>
<span id="cb3-24"></span>
<span id="cb3-25">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa download <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Download materials [here](<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/pdf/2021_YAG_OSCG_DCC.pdf"</span>)</span>
<span id="cb3-26"></span>
<span id="cb3-27"></span>
<span id="cb3-28"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Description</span></span>
<span id="cb3-29"></span>
<span id="cb3-30">During this event, we aimed at creating a roadmap that help researchers navigate GDPR and Open Science</span></code></pre></div>
</div>
<section id="read-in-template" class="level3">
<h3 class="anchored" data-anchor-id="read-in-template">Read-in template</h3>
<p>I made a template that each talk should conform to and stored it into an .md file. This is the content of said file. The string <code>replace_title</code>, <code>replace_date</code>, <code>replace_event_title</code>, <code>location_event</code>, <code>url_for_event</code>, <code>url_for_pdf</code>, and <code>description_text</code> need to be replaced by text that come from the original markdown-files that include Hugo code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb4-2">title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> replace_title</span>
<span id="cb4-3">description<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb4-4">  description_text </span>
<span id="cb4-5">categories<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb4-6">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Talk</span>
<span id="cb4-7">author<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gert Stulp"</span></span>
<span id="cb4-8">date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-07-14"</span></span>
<span id="cb4-9">toc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> true</span>
<span id="cb4-10">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> ..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>images<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>new_event.png</span>
<span id="cb4-11">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>alt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> New talk</span>
<span id="cb4-12">language<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> </span>
<span id="cb4-13">    section<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>footnotes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> References</span>
<span id="cb4-14"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb4-15"></span>
<span id="cb4-16"></span>
<span id="cb4-17"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Summary </span></span>
<span id="cb4-18"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&lt;</span>br<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb4-19">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa podcast <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; replace_event_title</span>
<span id="cb4-20"></span>
<span id="cb4-21">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa map<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>marker <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; location_event</span>
<span id="cb4-22"></span>
<span id="cb4-23">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa window<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>maximize <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Click [here](url_for_event) <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> website</span>
<span id="cb4-24"></span>
<span id="cb4-25">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa download <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Download materials [here](url_for_pdf)</span>
<span id="cb4-26"></span>
<span id="cb4-27">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa video<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>camera <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; There is a [video<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>](url_for_video)</span>
<span id="cb4-28"></span>
<span id="cb4-29"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Description</span></span>
<span id="cb4-30"></span>
<span id="cb4-31">description_text</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">template <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"template_talk.md"</span>)</span></code></pre></div>
</div>
</section>
<section id="read-in-original-files" class="level3">
<h3 class="anchored" data-anchor-id="read-in-original-files">Read-in original files</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># List files in directory "talk/" with .md extension</span></span>
<span id="cb6-2">file_list <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list.files</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"talk/"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".*"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".md"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full.names =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
</section>
<section id="replace-text-and-store-new-files-in-new-folder" class="level3">
<h3 class="anchored" data-anchor-id="replace-text-and-store-new-files-in-new-folder">Replace text and store new files in new folder</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb7-2"></span>
<span id="cb7-3">replace_text_md <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(file_path) {</span>
<span id="cb7-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read-in document</span></span>
<span id="cb7-5">  lines <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(file_path)</span>
<span id="cb7-6"></span>
<span id="cb7-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to remove annoying slashes from relevant text</span></span>
<span id="cb7-8">  remove_slash <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(string, remove) {</span>
<span id="cb7-9">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove pattern at front and then end</span></span>
<span id="cb7-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(string, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(remove, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-11">  }</span>
<span id="cb7-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove_slash("date = \"2021-11-15T00:00:00\"", remove = "date =")</span></span>
<span id="cb7-13">  </span>
<span id="cb7-14">  date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date ="</span>)</span>
<span id="cb7-15">  abstract <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract ="</span>)</span>
<span id="cb7-16">  event <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"event ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"event ="</span>)</span>
<span id="cb7-17">  url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"event_url ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"event_url ="</span>)</span>
<span id="cb7-18">  location <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location ="</span>)</span>
<span id="cb7-19">  url_pdf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_pdf ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_pdf ="</span>)</span>
<span id="cb7-20">  url_image <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image ="</span>)</span>
<span id="cb7-21">  url_video <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_video ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_video ="</span>)   </span>
<span id="cb7-22">  </span>
<span id="cb7-23">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Title deserves special treatment; needs quotes</span></span>
<span id="cb7-24">  title <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title = "</span>)</span>
<span id="cb7-25">  </span>
<span id="cb7-26">  temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> template</span>
<span id="cb7-27">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove line in template when link to pdf, website from event, or video does not exist</span></span>
<span id="cb7-28">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(url <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) {</span>
<span id="cb7-29">   temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> temp[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fa window-maximize"</span>)] </span>
<span id="cb7-30">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb7-31">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_for_event"</span>, url)</span>
<span id="cb7-32">  }</span>
<span id="cb7-33">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(url_pdf <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) {</span>
<span id="cb7-34">   temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> temp[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fa download"</span>)] </span>
<span id="cb7-35">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb7-36">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_for_pdf"</span>, url_pdf)</span>
<span id="cb7-37">  }</span>
<span id="cb7-38">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(url_video <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) {</span>
<span id="cb7-39">   temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> temp[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fa video-camera"</span>)] </span>
<span id="cb7-40">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb7-41">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_for_video"</span>, url_video)</span>
<span id="cb7-42">  }</span>
<span id="cb7-43">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># if image is provided, use that one rather than the template-figure</span></span>
<span id="cb7-44">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(url_image <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) {</span>
<span id="cb7-45">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(temp, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"new_event.png"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> url_image))</span>
<span id="cb7-46">  }</span>
<span id="cb7-47">  </span>
<span id="cb7-48">  temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(</span>
<span id="cb7-49">    temp,</span>
<span id="cb7-50">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"replace_title"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> title,</span>
<span id="cb7-51">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_text"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> abstract,</span>
<span id="cb7-52">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"insert_date"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> date,</span>
<span id="cb7-53">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"replace_event_title"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> event,</span>
<span id="cb7-54">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location_event"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> location</span>
<span id="cb7-55">    )</span>
<span id="cb7-56">  )</span>
<span id="cb7-57"></span>
<span id="cb7-58">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Folder talks_converted should exist</span></span>
<span id="cb7-59">  path_output <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"talks_converted/"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(file_path, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"talk//"</span>))</span>
<span id="cb7-60">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">writeLines</span>(temp, path_output, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-61">}</span>
<span id="cb7-62"></span>
<span id="cb7-63"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For each file in the original folder</span></span>
<span id="cb7-64"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span>(file <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> file_list) {</span>
<span id="cb7-65">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_text_md</span>(file)  </span>
<span id="cb7-66">}</span></code></pre></div>
</div>
</section>
</section>
<section id="converting-publications" class="level2">
<h2 class="anchored" data-anchor-id="converting-publications">Converting publications</h2>
<p>For publications something similar holds. The original files look something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+++</span></span>
<span id="cb8-2"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+++</span></span>
<span id="cb8-3">abstract <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Dutch have a remarkable history when it comes to height. From being one of the shortest European populations in the 19th Century, the Dutch grew some 20 cm and are currently the tallest population in the world. Wealth, hygiene, and diet are well-established contributors to this major increase in height. Some have suggested that natural selection may also contribute to the trend, but evidence is weak. Here, we investigate the potential role of natural selection in the increase in height through simulations. We first ask what if natural selection was solely responsible for the observed increase in height? If the increase in average height was fully due to natural selection on male height, then across six consecutive generations, men who were two standard deviation above average height would need to have eight times more children on average. If selection acted only through those who have the opportunity to reproduce, then reproduction would need to be restricted to the tallest third (37%) of the population in order to give rise to the stark increase in height over time. No linear relationship between height and child mortality is able to account for the increase over time. We then present simulations based on previously observed estimates of partnership, mortality, selection and heritability and show that natural selection had a negligible effect (estimates from 0.07 to 0.36 cm) on the increase in height in the period 1850 to 2000. Our simulations highlight the plasticity of height and how remarkable the trend in height is in evolutionary terms. Only by using a combination of methods and insights from different disciplines, including biology, demography, and history are we potentially able to address how much of the increase in height is due to natural selection versus other causes."</span></span>
<span id="cb8-4"></span>
<span id="cb8-5">authors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gert Stulp"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tyler Bonnel"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Louise Barrett"</span>]</span>
<span id="cb8-6">date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-03-23"</span></span>
<span id="cb8-7">image_preview <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-8">math <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> true</span>
<span id="cb8-9">publication_types <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>]</span>
<span id="cb8-10">publication <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The History of the Family "</span></span>
<span id="cb8-11">publication_short <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-12">selected <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> false</span>
<span id="cb8-13">title <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Simulating the evolution of height in the Netherlands in recent history"</span></span>
<span id="cb8-14">url_code <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-15">url_dataset <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-16">url_pdf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.tandfonline.com/doi/full/10.1080/1081602X.2023.2192193"</span></span>
<span id="cb8-17">url_project <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-18">url_slides <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-19">url_video <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-20"></span>
<span id="cb8-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Optional featured image (relative to `static/img/` folder).</span></span>
<span id="cb8-22">[header]</span>
<span id="cb8-23">image <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-24">caption <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb8-25"></span>
<span id="cb8-26"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+++</span></span></code></pre></div>
</div>
<p>And need to be transformed to something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb9-2">title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Simulating the evolution of height in the Netherlands in recent history"</span></span>
<span id="cb9-3">description<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb9-4">  The Dutch have a remarkable history when it comes to height. From being one of the shortest European populations <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the 19th Century, the Dutch grew some <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span> cm and are currently the tallest population <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the world. Wealth, hygiene, and diet are well<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>established contributors to this major increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height. Some have suggested that natural selection may also contribute to the trend, but evidence is weak. Here, we investigate the potential role of natural selection <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height through simulations. We first ask what <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> natural selection was solely responsible <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> the observed increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height? If the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> average height was fully due to natural selection on male height, then across six consecutive generations, men who were two standard deviation above average height would need to have eight times more children on average. If selection acted only through those who have the opportunity to reproduce, then reproduction would need to be restricted to the tallest <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">third</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">37</span>%) of the population <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> order to give rise to the stark increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height over time. No linear relationship between height and child mortality is able to account <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> the increase over time. We then present simulations based on previously observed estimates of partnership, mortality, selection and heritability and show that natural selection had a negligible <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">effect</span> (estimates from <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.07</span> to <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.36</span> cm) on the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the period <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1850</span> to <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000.</span> Our simulations highlight the plasticity of height and how remarkable the trend <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height is <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> evolutionary terms. Only by using a combination of methods and insights from different disciplines, including biology, demography, and history are we potentially able to address how much of the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height is due to natural selection versus other causes. </span>
<span id="cb9-5">categories<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb9-6">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Publication</span>
<span id="cb9-7">author<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> Gert Stulp, Tyler Bonnel, Louise Barrett</span>
<span id="cb9-8">date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023-03-23</span></span>
<span id="cb9-9">toc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> true</span>
<span id="cb9-10">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> ..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>images<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>new_pub.png</span>
<span id="cb9-11">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>alt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> New publication</span>
<span id="cb9-12">language<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> </span>
<span id="cb9-13">    section<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>footnotes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> References</span>
<span id="cb9-14"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb9-15"></span>
<span id="cb9-16"></span>
<span id="cb9-17"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&lt;</span>br<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb9-18">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa podcast <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Simulating the evolution of height <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the Netherlands <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> recent history</span>
<span id="cb9-19"></span>
<span id="cb9-20">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa book <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>The History of the Family<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb9-21"></span>
<span id="cb9-22">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa users <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Gert Stulp, Tyler Bonnel, Louise Barrett</span>
<span id="cb9-23"></span>
<span id="cb9-24"></span>
<span id="cb9-25">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa download <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Download manuscript [here](https<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span>www.tandfonline.com<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>doi<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>full<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10.1080</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>1081602X.<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2023.2192193</span>)</span>
<span id="cb9-26"></span>
<span id="cb9-27"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Abstract</span></span>
<span id="cb9-28"></span>
<span id="cb9-29">The Dutch have a remarkable history when it comes to height. From being one of the shortest European populations <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the 19th Century, the Dutch grew some <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span> cm and are currently the tallest population <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the world. Wealth, hygiene, and diet are well<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>established contributors to this major increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height. Some have suggested that natural selection may also contribute to the trend, but evidence is weak. Here, we investigate the potential role of natural selection <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height through simulations. We first ask what <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> natural selection was solely responsible <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> the observed increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height? If the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> average height was fully due to natural selection on male height, then across six consecutive generations, men who were two standard deviation above average height would need to have eight times more children on average. If selection acted only through those who have the opportunity to reproduce, then reproduction would need to be restricted to the tallest <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">third</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">37</span>%) of the population <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> order to give rise to the stark increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height over time. No linear relationship between height and child mortality is able to account <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> the increase over time. We then present simulations based on previously observed estimates of partnership, mortality, selection and heritability and show that natural selection had a negligible <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">effect</span> (estimates from <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.07</span> to <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.36</span> cm) on the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> the period <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1850</span> to <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000.</span> Our simulations highlight the plasticity of height and how remarkable the trend <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height is <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> evolutionary terms. Only by using a combination of methods and insights from different disciplines, including biology, demography, and history are we potentially able to address how much of the increase <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> height is due to natural selection versus other causes.</span></code></pre></div>
</div>
<section id="read-in-template-1" class="level3">
<h3 class="anchored" data-anchor-id="read-in-template-1">Read-in template</h3>
<p>I made a template that each talk should conform to and stored it into an .md file. This is the content of said file. The string <code>replace_title</code>, <code>insert_date</code>, <code>journal_title</code>, <code>replace_title_sum</code>, <code>replace_authors</code>, <code>url_journal</code>, <code>url_for_pdf</code>, and <code>description_text</code> need to be replaced by text that come from the original markdown-files that include Hugo code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb10-2">title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> replace_title</span>
<span id="cb10-3">description<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb10-4">  description_text </span>
<span id="cb10-5">categories<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb10-6">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Publication</span>
<span id="cb10-7">author<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> replace_authors</span>
<span id="cb10-8">date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> insert_date</span>
<span id="cb10-9">toc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> true</span>
<span id="cb10-10">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> ..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>..<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>images<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>new_pub.png</span>
<span id="cb10-11">image<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>alt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> New publication</span>
<span id="cb10-12">language<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> </span>
<span id="cb10-13">    section<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>footnotes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> References</span>
<span id="cb10-14"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb10-15"></span>
<span id="cb10-16"></span>
<span id="cb10-17"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&lt;</span>br<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb10-18">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa podcast <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; replace_title_sum</span>
<span id="cb10-19"></span>
<span id="cb10-20">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa book <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>journal_title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb10-21"></span>
<span id="cb10-22">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa users <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; replace_authors</span>
<span id="cb10-23"></span>
<span id="cb10-24">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa window<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>maximize <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Click [here](url_journal) <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> website</span>
<span id="cb10-25"></span>
<span id="cb10-26">{{<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> fa download <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>}} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp;<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>nbsp; Download manuscript [here](url_for_pdf)</span>
<span id="cb10-27"></span>
<span id="cb10-28"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Abstract</span></span>
<span id="cb10-29"></span>
<span id="cb10-30">description_text</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">template <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"template_pub.md"</span>)</span></code></pre></div>
</div>
</section>
<section id="read-in-original-files-1" class="level3">
<h3 class="anchored" data-anchor-id="read-in-original-files-1">Read-in original files</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># List files in directory "publication/" with .md extension</span></span>
<span id="cb12-2">file_list <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list.files</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publication/"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".*"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".md"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full.names =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
</section>
<section id="replace-text-and-store-new-files-in-new-folder-1" class="level3">
<h3 class="anchored" data-anchor-id="replace-text-and-store-new-files-in-new-folder-1">Replace text and store new files in new folder</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb13-2"></span>
<span id="cb13-3">lines <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(file_list[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb13-4"></span>
<span id="cb13-5">replace_text_md <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(file_path) {</span>
<span id="cb13-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read-in document</span></span>
<span id="cb13-7">  lines <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(file_path)</span>
<span id="cb13-8"></span>
<span id="cb13-9">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to remove annoying slashes from relevant text</span></span>
<span id="cb13-10">  remove_slash <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(string, remove) {</span>
<span id="cb13-11">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove pattern at front and then end</span></span>
<span id="cb13-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(string, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(remove, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb13-13">  }</span>
<span id="cb13-14">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove_slash("date = \"2021-11-15T00:00:00\"", remove = "date =")</span></span>
<span id="cb13-15">  </span>
<span id="cb13-16">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get multiple authors that are in square brackets </span></span>
<span id="cb13-17">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># e.g. ["Gert Stulp", "Louise Barrett"]</span></span>
<span id="cb13-18">  detect_authors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(string) {</span>
<span id="cb13-19">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(string, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"authors = </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">["</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"]"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove_all</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\"</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb13-20">  }</span>
<span id="cb13-21">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#detect_authors('authors = ["Gert Stulp", "Tyler Bonnel", "Louise Barrett"]')</span></span>
<span id="cb13-22">  </span>
<span id="cb13-23">  date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date ="</span>)</span>
<span id="cb13-24">  abstract <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract ="</span>)</span>
<span id="cb13-25">  authors <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">detect_authors</span>( lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"authors ="</span>)] )</span>
<span id="cb13-26">  url_journal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url ="</span>)</span>
<span id="cb13-27"></span>
<span id="cb13-28">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Requires special treatment because journal titles were either available as</span></span>
<span id="cb13-29">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># "In *journal title*" or just as "journal title"</span></span>
<span id="cb13-30">  journal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publication ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publication ="</span>)</span>
<span id="cb13-31">  journal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(journal, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"In "</span>)) {</span>
<span id="cb13-32">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(journal, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"In "</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove_all</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">*"</span>) </span>
<span id="cb13-33">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb13-34">    journal </span>
<span id="cb13-35">  } </span>
<span id="cb13-36"></span>
<span id="cb13-37">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Requires special treatment because there were two ways of links to pdfs</span></span>
<span id="cb13-38">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># either as direct link pdf, or a link to open access journal</span></span>
<span id="cb13-39">  url_pdf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_pdf ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_pdf ="</span>)</span>
<span id="cb13-40">  url_pdf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(url_pdf, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"http"</span>)) {</span>
<span id="cb13-41">    url_pdf <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># url to website with open data</span></span>
<span id="cb13-42">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb13-43">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"../../"</span>, url_pdf) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># to get correct path to file</span></span>
<span id="cb13-44">  } </span>
<span id="cb13-45">                   </span>
<span id="cb13-46">  title <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title = "</span>)</span>
<span id="cb13-47">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Title in body requires different treatment</span></span>
<span id="cb13-48">  title_sum <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> lines[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(lines, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title ="</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">remove_slash</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title ="</span>)</span>
<span id="cb13-49">  </span>
<span id="cb13-50">  temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> template</span>
<span id="cb13-51">  </span>
<span id="cb13-52">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># if a url = is found, this means a link to the website was provided. </span></span>
<span id="cb13-53">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">identical</span>(url_journal, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">character</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> url_journal <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>) {</span>
<span id="cb13-54">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#remove line in template, when 'url = ' is not found</span></span>
<span id="cb13-55">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> temp[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fa window-maximize"</span>)]</span>
<span id="cb13-56">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> {</span>
<span id="cb13-57">    temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(temp, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_journal"</span>, url_journal)</span>
<span id="cb13-58">  }</span>
<span id="cb13-59"></span>
<span id="cb13-60">  temp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(</span>
<span id="cb13-61">    temp,</span>
<span id="cb13-62">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"replace_title_sum"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> title_sum,</span>
<span id="cb13-63">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"replace_title"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> title,</span>
<span id="cb13-64">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"replace_authors"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> authors,</span>
<span id="cb13-65">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description_text"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> abstract,</span>
<span id="cb13-66">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"insert_date"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> date,</span>
<span id="cb13-67">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"journal_title"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> journal,</span>
<span id="cb13-68">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"url_for_pdf"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> url_pdf</span>
<span id="cb13-69">    )</span>
<span id="cb13-70">  )</span>
<span id="cb13-71"></span>
<span id="cb13-72">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># The folder pubs_converted needs to exist. </span></span>
<span id="cb13-73">  path_output <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pubs_converted/"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(file_path, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publication//"</span>))</span>
<span id="cb13-74">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">writeLines</span>(temp, path_output, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb13-75">}</span>
<span id="cb13-76"></span>
<span id="cb13-77"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span>(file <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> file_list) {</span>
<span id="cb13-78">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_text_md</span>(file)  </span>
<span id="cb13-79">}</span></code></pre></div>
</div>
<p>See you in five years!</p>


</section>
</section>

 ]]></description>
  <category>R</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-07-15-introducing-new-website.html</guid>
  <pubDate>Fri, 14 Jul 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Prediction in the social sciences</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/research/overview/prediction.html</link>
  <description><![CDATA[ 



<p>The social sciences, understandably, focus on explaining and understanding phenomena. In traditional statistical models, “understanding” is typically achieved in the following way: A relatively small theoretical model is constructed (say, 5 variables), and associations between these variables are specified (typically drawn as arrows in the model). Hypotheses often concern the strength of a particular arrow, which mostly comes down to whether this strength is different from zero (i.e., does X have an effect on Y given Z) in a sample, which in turn is mostly assessed through p-values. This approach has led and will lead to a sophisticated body of research, but it is not without problems. Whether an effect is non-zero or not is not particularly interesting; the p-value does not inform on whether an effect is important, and it is easy to ‘manipulate’ a p-value towards being below a magic threshold; good “in-sample models” may fail to predict unseen cases well. All of this means that even if we have a highly significant, non-zero effect, this does not necessarily mean we have good understanding.</p>
<p>This is why recent research has argued that explanatory modelling should be complemented by predictive modelling. That is, there is great benefit to focus on how well a model predicts cases that the model has not seen before. This prediction may be done through machine learning, but this is not the key point for me.</p>
<p>I hope that my (future) research will help in making this case clearly and convince social scientists of the advantages taking out-of-sample prediction seriously and also how optimising this quantity can lead to increased understanding of the system.</p>
<section id="prefer" class="level2">
<h2 class="anchored" data-anchor-id="prefer">PreFer</h2>
<p>One of the main ways in which I hope to do this, is the Predicting Fertility data challenge <a href="https://preferdatachallenge.nl">PreFer</a>:</p>
<p><img src="https://www.gertstulp.com/images/PreFer_logo_LONG.png" class="img-fluid"></p>
</section>
<section id="related-content" class="level2">
<h2 class="anchored" data-anchor-id="related-content">Related content</h2>
<p>This is one of the studies where I use a data-driven approach to a sociological topic:</p>
<p>Stulp, G., Top, L., Xu, X., &amp; Sivak, E. (2023). A data-driven approach shows that individuals’ characteristics are more important than their networks in predicting fertility preferences. Royal Society Open Science 10(12), 230988. <a href="https://doi.org/10.1098/rsos.230988">https://doi.org/10.1098/rsos.230988</a></p>


</section>

 ]]></description>
  <category>Overview</category>
  <category>Prediction</category>
  <category>Machine learning</category>
  <category>Data science</category>
  <guid>https://www.gertstulp.com/research/overview/prediction.html</guid>
  <pubDate>Sun, 25 Jun 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/prediction.png" medium="image" type="image/png" height="96" width="144"/>
</item>
<item>
  <title>Multiple thesis prizes for Hannah Dietzenbacher</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-05-25-thesis-prize-hannah.html</link>
  <description><![CDATA[ 



<p>Hannah Dietzenbacher has done amazing work in her Master’s Thesis project <strong>Criminal Network Disruption: A simulation study on the effectiveness of law enforcement intervention strategies</strong>. Both her theory-driven approach as well as her simulation-approach were impressive.</p>
<p>She won three prizes for this research: 1) The Faculty of Behavioural and Social Sciences (University of Groningen) thesis prize</p>
<ol start="2" type="1">
<li><p>The Jan Brouwer Scriptie Prijs voor Maatschappijwetenschappen (see <a href="https://khmw.nl/negen-masterstudenten-vallen-in-de-prijzen-bekijk-hier-de-presentaties-van-de-winnaars/">here</a>)</p></li>
<li><p>The NSV thesis prize (see <a href="https://www.nsv-sociologie.nl/?page_id=3678">here</a>)</p></li>
</ol>
<p>What a star!</p>



 ]]></description>
  <category>Prize</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-05-25-thesis-prize-hannah.html</guid>
  <pubDate>Wed, 24 May 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/hannah.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Hogeronderwijspremie</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2023-04-19-HOP.html</link>
  <description><![CDATA[ 



<p><a href="https://www.rug.nl/gmw/education/minor/datawise?lang=en">Data Wise: data science in society</a> was nominated for the Hogeronderwijspremie. This ‘minor’ program (for third-year bachelor students) teaches students to work in teams on a societally relevant topic that requires data.</p>
<p><a href="https://www.rug.nl/staff/r.p.stolk/cv?lang=en">Ronald Stolk</a>, <a href="https://www.rug.nl/staff/j.a.beaulieu/?lang=en">Anne Beaulieu</a>, and myself have worked hard to get the program off the ground, and since then many excellent people have contributed (and are contributing) to the program.</p>
<p>We got far, top 6, but didn’t make it to the final three, unfortunately.</p>



 ]]></description>
  <category>Prize</category>
  <guid>https://www.gertstulp.com/posts/posts/2023-04-19-HOP.html</guid>
  <pubDate>Tue, 18 Apr 2023 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/datawise.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>A roadmap on how to be as open as possible, and as closed as necessary</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2021-11-15-open-as-possible.html</link>
  <description><![CDATA[ 



<p>On October 27th, the Young Academy Groningen, in collaboration with the Open Science Community Groningen and de Digital Competence Centers at our University organised a hackaton-style-event. The aim of the event was to produce a as-short-as-possible-as-long-as-necessary decision tree to help researchers navigate requirements from the GDPR and Open Science. Vera Heininga and Toon Kuppens were essential in all this.</p>
<p>The outcome of that event was presented at the official launch of the <a href="https://www.rug.nl/digital-competence-centre/calendar/2021/gdcc-official-launch">Groningen Digital Competence Center</a>. Slides can be found <a href="../../pdf/2021_YAG_OSCG_DCC.pdf">here</a>. The preliminary-rough-draft decision tree, can be found <a href="https://sites.google.com/rug.nl/gdpr/home">here</a>.</p>



 ]]></description>
  <category>Open Science</category>
  <category>GDPR</category>
  <guid>https://www.gertstulp.com/posts/posts/2021-11-15-open-as-possible.html</guid>
  <pubDate>Sun, 14 Nov 2021 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Several interviews on the Dutch not getting taller</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2021-09-29-several-interviews-height.html</link>
  <description><![CDATA[ 



<p>The CBS has published a <a href="https://www.cbs.nl/nl-nl/nieuws/2021/37/nederlanders-korter-maar-nog-steeds-lang">great report</a> on the Dutch not getting taller, or even shrinking. Naturally, I had to show up to do all sorts of interviews. Some greatest hits:</p>
<section id="video" class="level2">
<h2 class="anchored" data-anchor-id="video">Video</h2>
<p>Forthcoming</p>
</section>
<section id="audio" class="level2">
<h2 class="anchored" data-anchor-id="audio">Audio</h2>
<ul>
<li>https://www.sbs.com.au/language/dutch/audio/verliezen-nederlanders-binnenkort-de-titel-langste-volk-ter-wereld</li>
</ul>
</section>
<section id="print" class="level2">
<h2 class="anchored" data-anchor-id="print">Print</h2>
<ul>
<li><p>https://nos.nl/artikel/2398087-cbs-nederlanders-blijven-langste-volk-ter-wereld-maar-we-worden-wel-wat-kleiner</p></li>
<li><p>https://www.volkskrant.nl/wetenschap/nederlanders-worden-niet-langer-ze-worden-juist-kleiner~bd7fbba7/</p></li>
<li><p>https://www.theguardian.com/world/2021/sep/17/dutch-are-worlds-tallest-people-but-theyre-shrinking-study-shows</p></li>
<li><p>https://www.washingtonpost.com/world/2021/09/19/netherlands-average-height-shrinking-tallest/</p></li>
</ul>


</section>

 ]]></description>
  <category>Media</category>
  <category>Height</category>
  <guid>https://www.gertstulp.com/posts/posts/2021-09-29-several-interviews-height.html</guid>
  <pubDate>Mon, 04 Oct 2021 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Social networks</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/research/overview/social networks.html</link>
  <description><![CDATA[ 



<p>Have to write some more proze here, but for now:</p>
<section id="unique-data" class="level1">
<h1>Unique data</h1>
<p>Stulp, G. (2021). Collecting large personal networks in a representative sample of Dutch women. Social Networks 64: 63-71. https://doi.org/10.1016/j.socnet.2020.07.012.</p>
</section>
<section id="r-package-to-process-the-data" class="level1">
<h1>R package to process the data</h1>
<p>Stulp, G. (2023). Describing the Dutch Social Networks and Fertility Study and how to process it. Demographic Research 49(19), 493-512. https://www.demographic-research.org/articles/volume/49/19</p>
<p>Stulp, G. (2023). FertNet: Process data from the social networks and fertility survey. https://CRAN.R-project.org/package=FertNet.</p>


</section>

 ]]></description>
  <category>Overview</category>
  <category>Networks</category>
  <category>Visualisation</category>
  <guid>https://www.gertstulp.com/research/overview/social networks.html</guid>
  <pubDate>Wed, 17 Mar 2021 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/network.png" medium="image" type="image/png" height="105" width="144"/>
</item>
<item>
  <title>The Economist improving my graphs</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2020-02-20-the-economist-improving-my-graphs.html</link>
  <description><![CDATA[ 



<p>Given the upcoming US elections, several media outlets have shown interest in my research on <a href="https://www.gertstulp.com/publication/2013_stulp_et_al_tlq_presidents/">US presidential height</a>. So did The Economist: https://www.economist.com/graphic-detail/2020/02/19/in-politics-height-matters.</p>
<p>They definitely improved my graphs: <img src="https://www.gertstulp.com/images/president1.png" class="img-fluid"></p>
<p><img src="https://www.gertstulp.com/images/president2.png" class="img-fluid"></p>
<p>I should try and see if I can recreate those graphs in <strong>R</strong>.</p>



 ]]></description>
  <category>R</category>
  <category>Visualisation</category>
  <category>Height</category>
  <guid>https://www.gertstulp.com/posts/posts/2020-02-20-the-economist-improving-my-graphs.html</guid>
  <pubDate>Wed, 19 Feb 2020 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/president1.png" medium="image" type="image/png" height="80" width="144"/>
</item>
<item>
  <title>Artikel op sociale vraagstukken</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2020-02-19-artikel-op-sociale-vraagstukken.html</link>
  <description><![CDATA[ 



<p>Renkse Verweij en ik hebben onlangs een artikel geschreven over ons onderzoek naar kinderloosheid voor de website van Sociale Vraagstukken: <a href="https://www.socialevraagstukken.nl/eerst-zekerheid-dan-pas-kinderen/">Eerst zekerheid, dan pas kinderen</a></p>



 ]]></description>
  <category>Media</category>
  <category>Fertility</category>
  <guid>https://www.gertstulp.com/posts/posts/2020-02-19-artikel-op-sociale-vraagstukken.html</guid>
  <pubDate>Tue, 18 Feb 2020 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Interview voor het Parool over het (jong) krijgen van kinderen</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2020-03-12-interview-voor-het-parool-over-het-jong-krijgen-van-kinderen.html</link>
  <description><![CDATA[ 



<p>Recentelijk werd ik geïnterviewd voor het Parool over het (jong) krijgen van kinderen: https://www.parool.nl/ps/tom-wordt-jong-vader-en-daar-heeft-iedereen-een-mening-over~b8f8e98a/. De auteur van het stuk, Tom Grosfeld (25) en zijn vriendin (26) verwachten hun eerste kind. Tom beschrijft mooi hoe zijn omgeving reageert. Zijn stuk sluit nauw aan bij mijn onderzoek over sociale invloeden op de kinderkeuze!</p>



 ]]></description>
  <category>Media</category>
  <category>Fertility</category>
  <guid>https://www.gertstulp.com/posts/posts/2020-03-12-interview-voor-het-parool-over-het-jong-krijgen-van-kinderen.html</guid>
  <pubDate>Tue, 18 Feb 2020 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Interview for BBC about secular trend in height</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2020-03-12-interview-for-bbc-about-secular-trend-in-height.html</link>
  <description><![CDATA[ 



<p>Recently, I had a hilarious and interesting interview with Professor Cregan-Reid and Kevin Mousley from the BBC about the historical changes in height and why the Dutch are so tall. You can find the interview here: https://www.bbc.co.uk/programmes/w3ct064s</p>



 ]]></description>
  <category>Media</category>
  <category>Height</category>
  <guid>https://www.gertstulp.com/posts/posts/2020-03-12-interview-for-bbc-about-secular-trend-in-height.html</guid>
  <pubDate>Mon, 17 Feb 2020 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Winning hackaton “hack the educational gap”</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2019-03-01-winning-hackaton-hack-the-educational-gap.html</link>
  <description><![CDATA[ 



<p>The Groninger municipality organised an amazing hackaton “Hack the educational gap” (see <a href="https://www.cityoftalent.nl/agenda/hackathon-hack-the-gap---gelijke-onderwijskansen">here</a> and <a href="https://www.rug.nl/society-business/centre-for-information-technology/news/0208-hackathon-hack-the-gap?lang=en">here</a>).</p>
<p>Annelene Bloemen, Denise Bouwman, Tina Kretschmer, Ymkje Anna de Vries, and I formed a team. And we won! Probably because we made neat visualisation of the existing data. See slides <a href="../../pdf/Hackaton.pdf">here</a>.</p>



 ]]></description>
  <category>Hackaton</category>
  <guid>https://www.gertstulp.com/posts/posts/2019-03-01-winning-hackaton-hack-the-educational-gap.html</guid>
  <pubDate>Thu, 28 Feb 2019 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Talk about the FLAG-research group</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2019-02-24-talk-about-the-flag-research-group.html</link>
  <description><![CDATA[ 



<p>The Department of Sociology at Groningen celebrated its <a href="https://www.rug.nl/gmw/sociologie/80jaar/">80-year existence</a> and a big party was thrown showcasing the diversity of research at our Department through several presentation. This was my talk presenting all members from the <a href="https://www.rug.nl/research/department-of-sociology/research/research-themes/healthy-happy?lang=en">Families Lifecourse and Ageing Group</a>, which I am coordinating:</p>
<iframe width="894" height="503" src="https://www.youtube.com/embed/yU3zFjiWOUA?list=PLdsMpUardfwp1n0ONoeLWlUUubHM-6vxL" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p>The video is in Dutch. Although the “pause for laughter” at 4.29 after my hilarious joke is in English.</p>



 ]]></description>
  <category>Sociology</category>
  <guid>https://www.gertstulp.com/posts/posts/2019-02-24-talk-about-the-flag-research-group.html</guid>
  <pubDate>Sat, 23 Feb 2019 23:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>New movie about research group</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2018-10-22-new-movie-about-research-group.html</link>
  <description><![CDATA[ 



<p>Recently, the Department of Sociology at Groningen celebrated its <a href="https://www.rug.nl/gmw/sociologie/80jaar/">80-year existence</a>. Six <a href="https://www.rug.nl/gmw/sociologie/80jaar/er-gaat-niets-boven-de-groningse-sociologie">videos</a> were made as part of this celebration, showing the diversity of research at our Department. This video was made for the <a href="www.gertstulp.com/FLAG">Families Lifecourse and Ageing Group</a>, which I am coordinating:</p>
<iframe width="894" height="503" src="https://www.youtube.com/embed/pxcfnXwpkJk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>



 ]]></description>
  <category>Sociology</category>
  <guid>https://www.gertstulp.com/posts/posts/2018-10-22-new-movie-about-research-group.html</guid>
  <pubDate>Sun, 21 Oct 2018 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>New Scientist Wetenschapstalent</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/posts/posts/2018-04-24-new-scientist-wetenschapstalent.html</link>
  <description><![CDATA[ 



<p>I am fortunate enough to have been nominated for the <a href="https://www.rug.nl/news/2018/04/socioloog-gert-stulp-genomineerd-voor-new-scientist-wetenschapstalent-2018">New Scientist Wetenschapstalent 2018</a>. The ‘winner’ will be determined by a committee and by popular vote (how scientific!). You can vote <a href="newscientist.nl/talent">here</a> if you think my research is good, or if you think I am not half-bad as a researcher.</p>
<p>For a quick Dutch video of my research, see:</p>
<iframe width="854" height="480" src="https://www.youtube.com/embed/WdunVMJDfy8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="">
</iframe>



 ]]></description>
  <category>Research</category>
  <guid>https://www.gertstulp.com/posts/posts/2018-04-24-new-scientist-wetenschapstalent.html</guid>
  <pubDate>Mon, 23 Apr 2018 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/new_post.png" medium="image" type="image/png" height="97" width="144"/>
</item>
<item>
  <title>Studying the number of children people want and have</title>
  <dc:creator>Gert Stulp</dc:creator>
  <link>https://www.gertstulp.com/research/overview/fertility.html</link>
  <description><![CDATA[ 



<p>I should still write something more sensible here. For now:</p>
<section id="in-medicine" class="level4">
<h4 class="anchored" data-anchor-id="in-medicine">In medicine:</h4>
<ul>
<li><em>fertility</em> - the ability to conceive children</li>
<li><em>fecundity</em> - the ability to produce an abundance of offspring</li>
</ul>
</section>
<section id="in-demography" class="level4">
<h4 class="anchored" data-anchor-id="in-demography">In demography:</h4>
<ul>
<li><em>fertility</em> - the number of live births of babies to a female</li>
<li><em>fecundity</em> - the physiological ability to have children</li>
</ul>
<p><img src="https://www.gertstulp.com/images/obama.gif" class="img-fluid"></p>


</section>

 ]]></description>
  <category>Overview</category>
  <category>Fertility</category>
  <guid>https://www.gertstulp.com/research/overview/fertility.html</guid>
  <pubDate>Thu, 29 Mar 2018 22:00:00 GMT</pubDate>
  <media:content url="https://www.gertstulp.com/images/fertility.png" medium="image" type="image/png" height="97" width="144"/>
</item>
</channel>
</rss>
